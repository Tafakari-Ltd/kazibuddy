{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/SearchSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\ninterface SearchState {\n  query: string;\n  isShown: boolean;\n}\n\nconst initialState: SearchState = {\n  query: \"\",\n  isShown: false,\n};\n\nconst searchSlice = createSlice({\n  name: \"search\",\n  initialState,\n  reducers: {\n    setQuery: (state, action: PayloadAction<string>) => {\n      state.query = action.payload;\n      state.isShown = true;\n    },\n    clearQuery: (state) => {\n      state.query = \"\";\n      state.isShown = false;\n    },\n    toggleSearch: (state) => {\n      state.isShown = false;\n    },\n  },\n});\n\nexport const { setQuery, clearQuery, toggleSearch } = searchSlice.actions;\n\nexport default searchSlice;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAOA,MAAM,eAA4B;IAChC,OAAO;IACP,SAAS;AACX;AAEA,MAAM,cAAc,IAAA,6MAAW,EAAC;IAC9B,MAAM;IACN;IACA,UAAU;QACR,UAAU,CAAC,OAAO;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;YAC5B,MAAM,OAAO,GAAG;QAClB;QACA,YAAY,CAAC;YACX,MAAM,KAAK,GAAG;YACd,MAAM,OAAO,GAAG;QAClB;QACA,cAAc,CAAC;YACb,MAAM,OAAO,GAAG;QAClB;IACF;AACF;AAEO,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,YAAY,EAAE,GAAG,YAAY,OAAO;uCAE1D"}},
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/SidebarSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  open: false,\n  type: null,\n  active: null,\n};\n\nconst sidebarSlice = createSlice({\n  name: \"sidebar\",\n  initialState,\n  reducers: {\n    toggleSidebar: (state) => {\n      state.open = !state.open;\n    },\n    openSidebar: (state) => {\n      state.open = true;\n    },\n    closeSidebar: (state) => {\n      state.open = false;\n    },\n    setSidebarType: (state, action) => {\n      state.type = action.payload;\n    },\n    setActiveLink: (state, action) => {\n      state.active = action.payload;\n    },\n    resetSidebar: () => initialState,\n  },\n});\n\nexport const {\n  toggleSidebar,\n  openSidebar,\n  closeSidebar,\n  setSidebarType,\n  setActiveLink,\n  resetSidebar,\n} = sidebarSlice.actions;\n\nexport default sidebarSlice;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;AAAA;;AAEA,MAAM,eAAe;IACnB,MAAM;IACN,MAAM;IACN,QAAQ;AACV;AAEA,MAAM,eAAe,IAAA,6MAAW,EAAC;IAC/B,MAAM;IACN;IACA,UAAU;QACR,eAAe,CAAC;YACd,MAAM,IAAI,GAAG,CAAC,MAAM,IAAI;QAC1B;QACA,aAAa,CAAC;YACZ,MAAM,IAAI,GAAG;QACf;QACA,cAAc,CAAC;YACb,MAAM,IAAI,GAAG;QACf;QACA,gBAAgB,CAAC,OAAO;YACtB,MAAM,IAAI,GAAG,OAAO,OAAO;QAC7B;QACA,eAAe,CAAC,OAAO;YACrB,MAAM,MAAM,GAAG,OAAO,OAAO;QAC/B;QACA,cAAc,IAAM;IACtB;AACF;AAEO,MAAM,EACX,aAAa,EACb,WAAW,EACX,YAAY,EACZ,cAAc,EACd,aAAa,EACb,YAAY,EACb,GAAG,aAAa,OAAO;uCAET"}},
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst api = axios.create({\n  baseURL: process.env.NEXT_PUBLIC_BASE_URL,\n});\n\napi.interceptors.request.use(\n  (config) => {\n    const token = typeof window !== \"undefined\" ? sessionStorage.getItem(\"accessToken\") : null;\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`;\n    }\n    return config;\n  },\n  (error) => Promise.reject(error),\n);\n\napi.interceptors.response.use(\n  (response) => response.data,\n  (error) => {\n    if (error.response) {\n      const status = error.response.status;\n      const data = error.response.data;\n\n      // Handle Unauthorized\n      if (status === 401 && typeof window !== \"undefined\") {\n        if (!window.location.pathname.startsWith(\"/auth\")) {\n          sessionStorage.clear();\n          document.cookie = \"accessToken=; path=/; max-age=0\"; \n          window.location.href = `/auth/login?returnTo=${window.location.pathname}`;\n        }\n      }\n\n      let errorMessage = \"An error occurred\";\n      let fieldErrors: Record<string, string[]> = {};\n\n      if (typeof data === \"string\") {\n        errorMessage = data;\n      } else if (data?.detail) {\n        errorMessage = data.detail;\n      } else if (data?.message) {\n        errorMessage = data.message;\n      } else if (data?.error) {\n        errorMessage = data.error;\n      } else if (data?.non_field_errors) {\n        errorMessage = Array.isArray(data.non_field_errors) ? data.non_field_errors[0] : data.non_field_errors;\n      } else {\n        // Handle field errors\n        Object.entries(data).forEach(([key, val]) => {\n          fieldErrors[key] = Array.isArray(val) ? val.map(String) : [String(val)];\n        });\n        const firstKey = Object.keys(fieldErrors)[0];\n        if (firstKey) errorMessage = fieldErrors[firstKey][0];\n      }\n\n      return Promise.reject({\n        message: errorMessage,\n        status,\n        data,\n        fieldErrors,\n      });\n    }\n    \n    return Promise.reject({\n      message: error.message || \"Network Error\",\n      status: 0,\n      data: null,\n    });\n  }\n);\n\nexport default api;"],"names":[],"mappings":";;;;AAGW;AAHX;;AAEA,MAAM,MAAM,mJAAK,CAAC,MAAM,CAAC;IACvB,SAAS,2KAAO,CAAC,GAAG,CAAC,oBAAoB;AAC3C;AAEA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IACC,MAAM,QAAQ,uCAAgC,eAAe,OAAO,CAAC,iBAAiB;IACtF,IAAI,OAAO;QACT,OAAO,OAAO,CAAC,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;IAClD;IACA,OAAO;AACT,GACA,CAAC,QAAU,QAAQ,MAAM,CAAC;AAG5B,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC,WAAa,SAAS,IAAI,EAC3B,CAAC;IACC,IAAI,MAAM,QAAQ,EAAE;QAClB,MAAM,SAAS,MAAM,QAAQ,CAAC,MAAM;QACpC,MAAM,OAAO,MAAM,QAAQ,CAAC,IAAI;QAEhC,sBAAsB;QACtB,IAAI,WAAW,OAAO,+CAAkB,aAAa;YACnD,IAAI,CAAC,OAAO,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,UAAU;gBACjD,eAAe,KAAK;gBACpB,SAAS,MAAM,GAAG;gBAClB,OAAO,QAAQ,CAAC,IAAI,GAAG,CAAC,qBAAqB,EAAE,OAAO,QAAQ,CAAC,QAAQ,EAAE;YAC3E;QACF;QAEA,IAAI,eAAe;QACnB,IAAI,cAAwC,CAAC;QAE7C,IAAI,OAAO,SAAS,UAAU;YAC5B,eAAe;QACjB,OAAO,IAAI,MAAM,QAAQ;YACvB,eAAe,KAAK,MAAM;QAC5B,OAAO,IAAI,MAAM,SAAS;YACxB,eAAe,KAAK,OAAO;QAC7B,OAAO,IAAI,MAAM,OAAO;YACtB,eAAe,KAAK,KAAK;QAC3B,OAAO,IAAI,MAAM,kBAAkB;YACjC,eAAe,MAAM,OAAO,CAAC,KAAK,gBAAgB,IAAI,KAAK,gBAAgB,CAAC,EAAE,GAAG,KAAK,gBAAgB;QACxG,OAAO;YACL,sBAAsB;YACtB,OAAO,OAAO,CAAC,MAAM,OAAO,CAAC,CAAC,CAAC,KAAK,IAAI;gBACtC,WAAW,CAAC,IAAI,GAAG,MAAM,OAAO,CAAC,OAAO,IAAI,GAAG,CAAC,UAAU;oBAAC,OAAO;iBAAK;YACzE;YACA,MAAM,WAAW,OAAO,IAAI,CAAC,YAAY,CAAC,EAAE;YAC5C,IAAI,UAAU,eAAe,WAAW,CAAC,SAAS,CAAC,EAAE;QACvD;QAEA,OAAO,QAAQ,MAAM,CAAC;YACpB,SAAS;YACT;YACA;YACA;QACF;IACF;IAEA,OAAO,QAAQ,MAAM,CAAC;QACpB,SAAS,MAAM,OAAO,IAAI;QAC1B,QAAQ;QACR,MAAM;IACR;AACF;uCAGa"}},
    {"offset": {"line": 172, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/services/jobApplicationApi.ts"],"sourcesContent":["import api from '../lib/axios';\nimport {\n  JobApplicationRequest,\n  JobApplication,\n  JobApplicationWithDetails,\n  ApplicationApiResponse,\n  ApplicationListResponse,\n  ApplicationDetailResponse,\n  UpdateApplicationRequest,\n  ApplicationQueryParams\n} from '../types/jobApplication.types';\n\nexport class JobApplicationApi {\n  private static readonly BASE_ENDPOINT = '/applications';\n  private static readonly ADMIN_ENDPOINT = '/adminpanel/applications'; \n\n  static async adminChangeStatus(\n    applicationId: string, \n    status: 'accepted' | 'rejected',\n    notes?: string\n  ): Promise<{ message: string; application: JobApplicationWithDetails }> {\n    const payload: any = { status };\n    if (notes) payload.employer_notes = notes;\n    return api.patch(`${this.ADMIN_ENDPOINT}/${applicationId}/status/`, payload) as any;\n  }\n\n  static async applyForJob(\n    jobId: string, \n    applicationData: JobApplicationRequest\n  ): Promise<ApplicationApiResponse> {\n    return api.post(`${this.BASE_ENDPOINT}/${jobId}/apply/`, applicationData) as any;\n  }\n\n  static async getMyApplications(\n    params?: ApplicationQueryParams\n  ): Promise<ApplicationListResponse> {\n    const query = this.buildQueryParams(params);\n    return api.get(`${this.BASE_ENDPOINT}/me/${query ? `?${query}` : ''}`) as any;\n  }\n\n  static async getApplicationDetails(\n    applicationId: string\n  ): Promise<ApplicationDetailResponse> {\n    return api.get(`${this.BASE_ENDPOINT}/${applicationId}/`) as any;\n  }\n\n  static async getJobApplications(\n    jobId: string,\n    params?: ApplicationQueryParams\n  ): Promise<ApplicationListResponse> {\n    const query = this.buildQueryParams(params);\n    return api.get(`${this.BASE_ENDPOINT}/job/${jobId}/${query ? `?${query}` : ''}`) as any;\n  }\n\n  static async getAllApplications(\n    params?: ApplicationQueryParams\n  ): Promise<ApplicationListResponse> {\n    const query = this.buildQueryParams(params);\n    return api.get(`${this.BASE_ENDPOINT}/all/${query ? `?${query}` : ''}`) as any;\n  }\n\n  static async updateApplication(\n    applicationId: string,\n    updateData: UpdateApplicationRequest\n  ): Promise<ApplicationDetailResponse> {\n    return api.put(`${this.BASE_ENDPOINT}/${applicationId}/`, updateData) as any;\n  }\n\n  static async deleteApplication(applicationId: string): Promise<{ message: string }> {\n    return api.delete(`${this.BASE_ENDPOINT}/${applicationId}/`) as any;\n  }\n\n  static async hasUserApplied(jobId: string): Promise<boolean> {\n    try {\n      const response = await this.getMyApplications({ search: jobId, per_page: 1 });\n      return response.applications.some(app => app.job === jobId);\n    } catch {\n      return false; \n    }\n  }\n\n  static async getJobApplicationStats(jobId: string): Promise<{\n    total: number; pending: number; reviewed: number; accepted: number; rejected: number;\n  }> {\n    const response = await this.getJobApplications(jobId);\n    const apps = response.applications;\n    return {\n      total: apps.length,\n      pending: apps.filter(app => app.status === 'pending').length,\n      reviewed: apps.filter(app => app.status === 'reviewed').length,\n      accepted: apps.filter(app => app.status === 'accepted').length,\n      rejected: apps.filter(app => app.status === 'rejected').length,\n    };\n  }\n\n  static async bulkUpdateApplications(\n    applicationIds: string[],\n    status: 'reviewed' | 'accepted' | 'rejected'\n  ): Promise<{ success: boolean; updated: number; errors: string[] }> {\n    const results = { success: true, updated: 0, errors: [] as string[] };\n    const chunks = this.chunkArray(applicationIds, 5);\n\n    for (const chunk of chunks) {\n      await Promise.all(chunk.map(async (id) => {\n        try {\n          await this.updateApplication(id, { status });\n          results.updated++;\n        } catch (error: any) {\n          results.errors.push(`Failed to update ${id}: ${error.message}`);\n          results.success = false;\n        }\n      }));\n    }\n    return results;\n  }\n\n  private static buildQueryParams(params?: ApplicationQueryParams): string {\n    if (!params) return '';\n    const q = new URLSearchParams();\n    if (params.status) params.status.forEach(s => q.append('status', s));\n    if (params.job_type) params.job_type.forEach(t => q.append('job_type', t));\n    if (params.date_from) q.append('date_from', params.date_from);\n    if (params.date_to) q.append('date_to', params.date_to);\n    if (params.min_rate) q.append('min_rate', params.min_rate.toString());\n    if (params.max_rate) q.append('max_rate', params.max_rate.toString());\n    if (params.page) q.append('page', params.page.toString());\n    if (params.per_page) q.append('per_page', params.per_page.toString());\n    if (params.ordering) q.append('ordering', params.ordering);\n    if (params.search) q.append('search', params.search);\n    if (params.expand) q.append('expand', params.expand);\n    return q.toString();\n  }\n\n  private static chunkArray<T>(array: T[], chunkSize: number): T[][] {\n    const chunks: T[][] = [];\n    for (let i = 0; i < array.length; i += chunkSize) {\n      chunks.push(array.slice(i, i + chunkSize));\n    }\n    return chunks;\n  }\n\n  static validateApplicationData(data: JobApplicationRequest) {\n    const errors: Record<string, string> = {};\n    if (!data.cover_letter?.trim()) errors.cover_letter = 'Cover letter is required';\n    else if (data.cover_letter.length < 50) errors.cover_letter = 'Min 50 chars required';\n    else if (data.cover_letter.length > 2000) errors.cover_letter = 'Max 2000 chars allowed';\n\n    if (!data.proposed_rate || data.proposed_rate <= 0) errors.proposed_rate = 'Invalid rate';\n    \n    if (!data.availability_start) {\n      errors.availability_start = 'Start date required';\n    } else {\n      const start = new Date(data.availability_start);\n      if (start < new Date(new Date().setHours(0,0,0,0))) errors.availability_start = 'Date cannot be in past';\n    }\n\n    return { isValid: Object.keys(errors).length === 0, errors };\n  }\n\n  static formatApplicationForDisplay(application: JobApplication): JobApplicationWithDetails {\n    return {\n      ...application,\n      applied_at: new Date(application.applied_at).toISOString(),\n      reviewed_at: application.reviewed_at ? new Date(application.reviewed_at).toISOString() : null,\n      responded_at: application.responded_at ? new Date(application.responded_at).toISOString() : null,\n      proposed_rate: parseFloat(application.proposed_rate).toFixed(2)\n    } as unknown as JobApplicationWithDetails;\n  }\n}\n\nexport default JobApplicationApi;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 316, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/ApplyJobSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport {\n  JobApplicationRequest,\n  JobApplication,\n  JobApplicationWithDetails,\n  ApplicationFormErrors,\n  ApplicationStatus,\n  JobDetails\n} from '../../types/jobApplication.types';\nimport JobApplicationApi from '../../services/jobApplicationApi';\n\ninterface ApplyJobState {\n  formData: JobApplicationRequest;\n  myApplications: JobApplication[];\n  jobApplications: JobApplication[];\n  allApplications: JobApplication[];\n  currentApplication: JobApplicationWithDetails | null;\n  selectedJob: JobDetails | null;\n  isModalOpen: boolean;\n  isLoading: boolean;\n  isSubmitting: boolean;\n  errors: ApplicationFormErrors;\n  apiError: string | null;\n  successMessage: string | null;\n  pagination: {\n    currentPage: number;\n    totalPages: number;\n    totalItems: number;\n    itemsPerPage: number;\n  };\n  stats: {\n    total: number;\n    pending: number;\n    reviewed: number;\n    accepted: number;\n    rejected: number;\n  };\n}\n\nconst initialFormData: JobApplicationRequest = {\n  cover_letter: \"\",\n  proposed_rate: 0,\n  availability_start: \"\",\n  worker_notes: \"\",\n  employer_notes: \"\"\n};\n\nconst initialState: ApplyJobState = {\n  formData: initialFormData,\n  myApplications: [],\n  jobApplications: [],\n  allApplications: [],\n  currentApplication: null,\n  selectedJob: null,\n  isModalOpen: false,\n  isLoading: false,\n  isSubmitting: false,\n  errors: {},\n  apiError: null,\n  successMessage: null,\n  pagination: {\n    currentPage: 1,\n    totalPages: 1,\n    totalItems: 0,\n    itemsPerPage: 10\n  },\n  stats: {\n    total: 0,\n    pending: 0,\n    reviewed: 0,\n    accepted: 0,\n    rejected: 0\n  }\n};\n\nexport const applyForJob = createAsyncThunk(\n  'jobApplication/apply',\n  async ({ jobId, applicationData }: { jobId: string; applicationData: JobApplicationRequest }) => {\n    const response = await JobApplicationApi.applyForJob(jobId, applicationData);\n    return response;\n  }\n);\n\nexport const fetchMyApplications = createAsyncThunk(\n  'jobApplication/fetchMyApplications',\n  async (params?: any) => {\n    const response = await JobApplicationApi.getMyApplications(params);\n    return response;\n  }\n);\n\nexport const fetchApplicationDetails = createAsyncThunk(\n  'jobApplication/fetchDetails',\n  async (applicationId: string) => {\n    const response = await JobApplicationApi.getApplicationDetails(applicationId);\n    return response;\n  }\n);\n\nexport const fetchJobApplications = createAsyncThunk(\n  'jobApplication/fetchJobApplications',\n  async ({ jobId, params }: { jobId: string; params?: any }) => {\n    const response = await JobApplicationApi.getJobApplications(jobId, params);\n    return response;\n  }\n);\n\nexport const updateApplication = createAsyncThunk(\n  'jobApplication/update',\n  async ({ applicationId, updateData }: { applicationId: string; updateData: any }) => {\n    const response = await JobApplicationApi.updateApplication(applicationId, updateData);\n    return response;\n  }\n);\n\nexport const deleteApplication = createAsyncThunk(\n  'jobApplication/delete',\n  async (applicationId: string) => {\n    await JobApplicationApi.deleteApplication(applicationId);\n    return applicationId;\n  }\n);\n\nexport const fetchApplicationStats = createAsyncThunk(\n  'jobApplication/fetchStats',\n  async (jobId: string) => {\n    const stats = await JobApplicationApi.getJobApplicationStats(jobId);\n    return stats;\n  }\n);\n\nconst applyJobSlice = createSlice({\n  name: \"jobApplication\",\n  initialState,\n  reducers: {\n    updateFormData(state, action: PayloadAction<Partial<JobApplicationRequest>>) {\n      state.formData = { ...state.formData, ...action.payload };\n    },\n    setCoverLetter(state, action: PayloadAction<string>) {\n      state.formData.cover_letter = action.payload;\n    },\n    setProposedRate(state, action: PayloadAction<number>) {\n      state.formData.proposed_rate = action.payload;\n    },\n    setAvailabilityStart(state, action: PayloadAction<string>) {\n      state.formData.availability_start = action.payload;\n    },\n    setWorkerNotes(state, action: PayloadAction<string>) {\n      state.formData.worker_notes = action.payload;\n    },\n    setSelectedJob(state, action: PayloadAction<JobDetails>) {\n      state.selectedJob = action.payload;\n    },\n    setFormErrors(state, action: PayloadAction<ApplicationFormErrors>) {\n      state.errors = action.payload;\n    },\n    clearFormErrors(state) {\n      state.errors = {};\n    },\n    resetForm(state) {\n      state.formData = initialFormData;\n      state.errors = {};\n    },\n    clearForm(state) {\n      state.formData = initialFormData;\n      state.errors = {};\n      state.apiError = null;\n      state.successMessage = null;\n    },\n    openJobModal(state) {\n      state.isModalOpen = true;\n      state.apiError = null;\n      state.successMessage = null; \n    },\n    closeJobModal(state) {\n      state.isModalOpen = false;\n      state.formData = initialFormData;\n      state.errors = {};\n      state.apiError = null;\n      state.successMessage = null; \n    },\n    setSuccessMessage(state, action: PayloadAction<string>) {\n      state.successMessage = action.payload;\n      state.apiError = null;\n    },\n    setApiError(state, action: PayloadAction<string>) {\n      state.apiError = action.payload;\n      state.successMessage = null;\n    },\n    clearMessages(state) {\n      state.successMessage = null;\n      state.apiError = null;\n    },\n    updateApplicationStatus(state, action: PayloadAction<{ id: string; status: ApplicationStatus }>) {\n      const { id, status } = action.payload;\n      const myApp = state.myApplications.find(app => app.id === id);\n      if (myApp) myApp.status = status;\n      const jobApp = state.jobApplications.find(app => app.id === id);\n      if (jobApp) jobApp.status = status;\n      const allApp = state.allApplications.find(app => app.id === id);\n      if (allApp) allApp.status = status;\n      if (state.currentApplication && state.currentApplication.id === id) {\n        state.currentApplication.status = status;\n      }\n    },\n    setPagination(state, action: PayloadAction<Partial<typeof initialState.pagination>>) {\n      state.pagination = { ...state.pagination, ...action.payload };\n    }\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(applyForJob.pending, (state) => {\n        state.isSubmitting = true;\n        state.apiError = null;\n      })\n      .addCase(applyForJob.fulfilled, (state, action) => {\n        state.isSubmitting = false;\n        state.successMessage = action.payload.message || 'Application submitted successfully!';\n        state.isModalOpen = false;\n        state.formData = initialFormData;\n        state.errors = {};\n      })\n      .addCase(applyForJob.rejected, (state, action) => {\n        state.isSubmitting = false;\n        state.apiError = action.error.message || 'Failed to submit application';\n      });\n    \n    builder\n      .addCase(fetchMyApplications.pending, (state) => {\n        state.isLoading = true;\n        state.apiError = null;\n      })\n      .addCase(fetchMyApplications.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.myApplications = action.payload.applications;\n      })\n      .addCase(fetchMyApplications.rejected, (state, action) => {\n        state.isLoading = false;\n        state.apiError = action.error.message || 'Failed to fetch applications';\n      });\n    \n    builder\n      .addCase(fetchApplicationDetails.pending, (state) => {\n        state.isLoading = true;\n        state.apiError = null;\n      })\n      .addCase(fetchApplicationDetails.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.currentApplication = action.payload.application;\n      })\n      .addCase(fetchApplicationDetails.rejected, (state, action) => {\n        state.isLoading = false;\n        state.apiError = action.error.message || 'Failed to fetch application details';\n      });\n    \n    builder\n      .addCase(fetchJobApplications.pending, (state) => {\n        state.isLoading = true;\n        state.apiError = null;\n      })\n      .addCase(fetchJobApplications.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.jobApplications = action.payload.applications;\n      })\n      .addCase(fetchJobApplications.rejected, (state, action) => {\n        state.isLoading = false;\n        state.apiError = action.error.message || 'Failed to fetch job applications';\n      });\n    \n    builder\n      .addCase(updateApplication.pending, (state) => {\n        state.isSubmitting = true;\n        state.apiError = null;\n      })\n      .addCase(updateApplication.fulfilled, (state, action) => {\n        state.isSubmitting = false;\n        state.successMessage = action.payload.message || 'Application updated successfully!';\n        state.currentApplication = action.payload.application;\n      })\n      .addCase(updateApplication.rejected, (state, action) => {\n        state.isSubmitting = false;\n        state.apiError = action.error.message || 'Failed to update application';\n      });\n    \n    builder\n      .addCase(deleteApplication.pending, (state) => {\n        state.isSubmitting = true;\n        state.apiError = null;\n      })\n      .addCase(deleteApplication.fulfilled, (state, action) => {\n        state.isSubmitting = false;\n        state.successMessage = 'Application deleted successfully!';\n        const applicationId = action.payload;\n        state.myApplications = state.myApplications.filter(app => app.id !== applicationId);\n        state.jobApplications = state.jobApplications.filter(app => app.id !== applicationId);\n        state.allApplications = state.allApplications.filter(app => app.id !== applicationId);\n        if (state.currentApplication?.id === applicationId) {\n          state.currentApplication = null;\n        }\n      })\n      .addCase(deleteApplication.rejected, (state, action) => {\n        state.isSubmitting = false;\n        state.apiError = action.error.message || 'Failed to delete application';\n      });\n    \n    builder\n      .addCase(fetchApplicationStats.fulfilled, (state, action) => {\n        state.stats = action.payload;\n      });\n  }\n});\n\nexport const {\n  updateFormData,\n  setCoverLetter,\n  setProposedRate,\n  setAvailabilityStart,\n  setWorkerNotes,\n  setFormErrors,\n  clearFormErrors,\n  resetForm,\n  clearForm,\n  openJobModal,\n  closeJobModal,\n  setSuccessMessage,\n  setApiError,\n  clearMessages,\n  updateApplicationStatus,\n  setPagination,\n  setSelectedJob \n} = applyJobSlice.actions;\n\nexport default applyJobSlice;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 604, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/AdminSIdebarSlice.ts"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\n\nconst initialState = {\n  open: false,\n};\n\nconst adminSidebarSlice = createSlice({\n  name: \"adminSidebar\",\n  initialState,\n  reducers: {\n    openSidebar: (state) => {\n      state.open = true;\n    },\n    closeSidebar: (state) => {\n      state.open = false;\n    },\n\n    resetSidebar: () => initialState,\n  },\n});\n\nexport const {\n  openSidebar,\n  closeSidebar,\n\n  resetSidebar,\n} = adminSidebarSlice.actions;\n\nexport default adminSidebarSlice;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAEA,MAAM,eAAe;IACnB,MAAM;AACR;AAEA,MAAM,oBAAoB,IAAA,6MAAW,EAAC;IACpC,MAAM;IACN;IACA,UAAU;QACR,aAAa,CAAC;YACZ,MAAM,IAAI,GAAG;QACf;QACA,cAAc,CAAC;YACb,MAAM,IAAI,GAAG;QACf;QAEA,cAAc,IAAM;IACtB;AACF;AAEO,MAAM,EACX,WAAW,EACX,YAAY,EAEZ,YAAY,EACb,GAAG,kBAAkB,OAAO;uCAEd"}},
    {"offset": {"line": 641, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/JobDescriptionSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from \"@reduxjs/toolkit\";\n\nexport interface Job {\n  id: string;\n  title: string;\n  jobType: string;\n  category: string;\n  location: string;\n  rate: string;\n  description: string;\n  image: string;\n  colorFilter?: string;\n  postedDate?: string;\n  urgency?: string;\n  requirements?: string[];\n  benefits?: string[];\n  company?: string;\n  contactEmail?: string;\n  contactPhone?: string;\n  applicationDeadline?: string;\n  experienceLevel?: string;\n  isActive?: boolean;\n}\n\nexport interface MoreJobDescriptionState {\n  open: boolean;\n  selectedJob: Job | null;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: MoreJobDescriptionState = {\n  open: false,\n  selectedJob: null,\n  loading: false,\n  error: null,\n};\n\nexport interface RootState {\n  moreDescription: MoreJobDescriptionState;\n}\n\nconst moreJobDescriptionSlice = createSlice({\n  name: \"moreDescription\",\n  initialState,\n  reducers: {\n    openJobDescription: (state, action: PayloadAction<Job>) => {\n      state.open = true;\n      state.selectedJob = action.payload;\n      state.error = null;\n    },\n    closeJobDescription: (state) => {\n      state.open = false;\n      state.selectedJob = null;\n      state.error = null;\n    },\n    setLoading: (state, action: PayloadAction<boolean>) => {\n      state.loading = action.payload;\n    },\n    setError: (state, action: PayloadAction<string>) => {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    updateJobData: (state, action: PayloadAction<Partial<Job>>) => {\n      if (state.selectedJob) {\n        state.selectedJob = { ...state.selectedJob, ...action.payload };\n      }\n    },\n    resetState: (state) => {\n      state.open = false;\n      state.selectedJob = null;\n      state.loading = false;\n      state.error = null;\n    },\n  },\n});\n\nexport const {\n  openJobDescription,\n\n  closeJobDescription,\n\n  setLoading,\n\n  setError,\n\n  updateJobData,\n\n  resetState,\n} = moreJobDescriptionSlice.actions;\n\nexport const selectJobDescriptionOpen = (state: RootState): boolean =>\n  state.moreDescription.open;\n\nexport const selectSelectedJob = (state: RootState): Job | null =>\n  state.moreDescription.selectedJob;\n\nexport const selectJobDescriptionLoading = (state: RootState): boolean =>\n  state.moreDescription.loading;\n\nexport const selectJobDescriptionError = (state: RootState): string | null =>\n  state.moreDescription.error;\n\nexport const selectJobTitle = (state: RootState): string =>\n  state.moreDescription.selectedJob?.title || \"\";\n\nexport const selectJobLocation = (state: RootState): string =>\n  state.moreDescription.selectedJob?.location || \"\";\n\nexport const selectJobRate = (state: RootState): string =>\n  state.moreDescription.selectedJob?.rate || \"\";\n\nexport const selectIsJobModalOpen = (state: RootState): boolean =>\n  state.moreDescription.open && state.moreDescription.selectedJob !== null;\n\nexport default moreJobDescriptionSlice;\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AA+BA,MAAM,eAAwC;IAC5C,MAAM;IACN,aAAa;IACb,SAAS;IACT,OAAO;AACT;AAMA,MAAM,0BAA0B,IAAA,6MAAW,EAAC;IAC1C,MAAM;IACN;IACA,UAAU;QACR,oBAAoB,CAAC,OAAO;YAC1B,MAAM,IAAI,GAAG;YACb,MAAM,WAAW,GAAG,OAAO,OAAO;YAClC,MAAM,KAAK,GAAG;QAChB;QACA,qBAAqB,CAAC;YACpB,MAAM,IAAI,GAAG;YACb,MAAM,WAAW,GAAG;YACpB,MAAM,KAAK,GAAG;QAChB;QACA,YAAY,CAAC,OAAO;YAClB,MAAM,OAAO,GAAG,OAAO,OAAO;QAChC;QACA,UAAU,CAAC,OAAO;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;YAC5B,MAAM,OAAO,GAAG;QAClB;QACA,eAAe,CAAC,OAAO;YACrB,IAAI,MAAM,WAAW,EAAE;gBACrB,MAAM,WAAW,GAAG;oBAAE,GAAG,MAAM,WAAW;oBAAE,GAAG,OAAO,OAAO;gBAAC;YAChE;QACF;QACA,YAAY,CAAC;YACX,MAAM,IAAI,GAAG;YACb,MAAM,WAAW,GAAG;YACpB,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG;QAChB;IACF;AACF;AAEO,MAAM,EACX,kBAAkB,EAElB,mBAAmB,EAEnB,UAAU,EAEV,QAAQ,EAER,aAAa,EAEb,UAAU,EACX,GAAG,wBAAwB,OAAO;AAE5B,MAAM,2BAA2B,CAAC,QACvC,MAAM,eAAe,CAAC,IAAI;AAErB,MAAM,oBAAoB,CAAC,QAChC,MAAM,eAAe,CAAC,WAAW;AAE5B,MAAM,8BAA8B,CAAC,QAC1C,MAAM,eAAe,CAAC,OAAO;AAExB,MAAM,4BAA4B,CAAC,QACxC,MAAM,eAAe,CAAC,KAAK;AAEtB,MAAM,iBAAiB,CAAC,QAC7B,MAAM,eAAe,CAAC,WAAW,EAAE,SAAS;AAEvC,MAAM,oBAAoB,CAAC,QAChC,MAAM,eAAe,CAAC,WAAW,EAAE,YAAY;AAE1C,MAAM,gBAAgB,CAAC,QAC5B,MAAM,eAAe,CAAC,WAAW,EAAE,QAAQ;AAEtC,MAAM,uBAAuB,CAAC,QACnC,MAAM,eAAe,CAAC,IAAI,IAAI,MAAM,eAAe,CAAC,WAAW,KAAK;uCAEvD"}},
    {"offset": {"line": 735, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/authSlice.ts"],"sourcesContent":["\"use client\";\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\nimport type { \n  ILoginResponse, \n  RegisterFormData, \n  VerifyEmailData, \n  ApproveUserData \n} from \"@/types\";\n\ninterface AuthState {\n  user: any | null;\n  accessToken: string | null;\n  refreshToken: string | null;\n  userId: string | null;\n  isAuthenticated: boolean;\n  loading: boolean;\n  error: string | null;\n  successMessage: string | null;\n  isVerified: boolean;\n}\n\nconst setAuthCookie = (token: string) => {\n  if (typeof document !== 'undefined') {\n    document.cookie = `accessToken=${token}; path=/; max-age=86400; SameSite=Lax; Secure`;\n  }\n};\n\nconst removeAuthCookie = () => {\n  if (typeof document !== 'undefined') {\n    document.cookie = \"accessToken=; path=/; max-age=0\";\n  }\n};\n\nexport const registerUser = createAsyncThunk<\n  { message: string; user_id: string },\n  RegisterFormData,\n  { rejectValue: string }\n>(\"auth/register\", async (formData, { rejectWithValue }) => {\n  try {\n    const form = new FormData();\n    Object.entries(formData).forEach(([key, value]) => {\n      if (value !== undefined && value !== null && key !== \"confirm_password\") {\n        form.append(key, value);\n      }\n    });\n\n    const response = await api.post(\"accounts/register/\", form, {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n    });\n    return response as any;\n  } catch (err: any) {\n    // Only return field errors if they actually exist and are not empty\n    if (err?.fieldErrors && Object.keys(err.fieldErrors).length > 0) {\n      return rejectWithValue(JSON.stringify({ message: \"Validation failed\", fieldErrors: err.fieldErrors }));\n    }\n    // Fallback to the message\n    return rejectWithValue(err?.message || \"Registration failed\");\n  }\n});\n\nexport const verifyEmail = createAsyncThunk<\n  { message: string },\n  VerifyEmailData,\n  { rejectValue: string }\n>(\"auth/verifyEmail\", async ({ user_id, otp_code }, { rejectWithValue }) => {\n  try {\n    const response = await api.post(\"accounts/verify-email/\", {\n      user_id,\n      otp_code,\n      otp_type: \"registration\",\n    });\n    return response as any;\n  } catch (err: any) {\n    return rejectWithValue(err?.message || \"Verification failed\");\n  }\n});\n\nexport const resendOTP = createAsyncThunk<\n  { message: string },\n  { user_id: string; email: string },\n  { rejectValue: string }\n>(\"auth/resendOTP\", async ({ user_id, email }, { rejectWithValue }) => {\n  try {\n    const response = await api.post(\"accounts/resend-otp/\", {\n      user_id,\n      email,\n      otp_type: \"registration\",\n    });\n    return response as any;\n  } catch (err: any) {\n    return rejectWithValue(err?.message || \"Failed to resend OTP\");\n  }\n});\n\nexport const login = createAsyncThunk<\n  { accessToken: string; refreshToken: string; userId: string; user: any },\n  { email: string; password: string },\n  { rejectValue: string }\n>(\"auth/login\", async ({ email, password }, { rejectWithValue }) => {\n  try {\n    const res: ILoginResponse = await api.post(\"/accounts/login/\", {\n      identifier: email,\n      password,\n    });\n\n    if (!res || !res.tokens) return rejectWithValue(\"Invalid login response\");\n\n    const { access: accessToken, refresh: refreshToken } = res.tokens;\n    const userId = res.user_id;\n\n    // Set cookie for middleware\n    setAuthCookie(accessToken);\n\n    const userFromApi = await api.get(\"/accounts/me/\", {\n      headers: { Authorization: `Bearer ${accessToken}` },\n    }) as any;\n\n    const user = { ...userFromApi, user_type: userFromApi.user_type ?? res.user_type };\n\n    if (typeof window !== \"undefined\") {\n      sessionStorage.setItem(\"user\", JSON.stringify(user));\n    }\n\n    return { accessToken, refreshToken, userId, user };\n  } catch (err: any) {\n    let errorMessage = err?.message || \"Login failed\";\n    \n    // Handle 401 Unauthorized specifically\n    if (err?.status === 401 || err?.response?.status === 401) {\n      errorMessage = \"Invalid email or password\";\n    }\n    \n    if (err?.fieldErrors && Object.keys(err.fieldErrors).length > 0) {\n      const errors = Object.values(err.fieldErrors).flat();\n      if (errors.length > 0) {\n        errorMessage = errors.join(\". \");\n      }\n    }\n    \n    if (err?.response?.data?.detail) {\n      errorMessage = err.response.data.detail;\n    }\n\n    return rejectWithValue(errorMessage);\n  }\n});\n\nexport const approveUser = createAsyncThunk<\n  { message: string; user: any },\n  { userId: string; data: ApproveUserData },\n  { rejectValue: string }\n>(\"auth/approveUser\", async ({ userId, data }, { rejectWithValue }) => {\n  try {\n    const formData = new FormData();\n    Object.entries(data).forEach(([key, value]) => {\n      if (value !== undefined && value !== null) formData.append(key, value as any);\n    });\n\n    const res = await api.post(`/adminpanel/users/${userId}/approve/`, formData, {\n      headers: { \"Content-Type\": \"multipart/form-data\" },\n    });\n    return res as any;\n  } catch (err: any) {\n    return rejectWithValue(err.message || \"Failed to approve user\");\n  }\n});\n\nconst initialState: AuthState = {\n  accessToken: null,\n  refreshToken: null,\n  userId: null,\n  isAuthenticated: false,\n  loading: false,\n  error: null,\n  user: null,\n  successMessage: null,\n  isVerified: false,\n};\n\nconst authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    loadSession: (state) => {\n      const accessToken = sessionStorage.getItem(\"accessToken\");\n      const refreshToken = sessionStorage.getItem(\"refreshToken\");\n      const userId = sessionStorage.getItem(\"userId\");\n      const user = sessionStorage.getItem(\"user\");\n      const isAuthenticated = sessionStorage.getItem(\"isAuthenticated\");\n\n      if (accessToken && refreshToken && userId && isAuthenticated === \"true\") {\n        state.accessToken = accessToken;\n        state.refreshToken = refreshToken;\n        state.userId = userId;\n        state.user = user ? JSON.parse(user) : null;\n        state.isAuthenticated = true;\n      }\n    },\n    logout: (state) => {\n      state.accessToken = null;\n      state.refreshToken = null;\n      state.userId = null;\n      state.user = null;\n      state.isAuthenticated = false;\n      sessionStorage.clear();\n      removeAuthCookie();\n    },\n    clearAuthState: (state) => {\n      state.error = null;\n      state.successMessage = null;\n      state.loading = false;\n      state.isVerified = false;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(login.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(login.fulfilled, (state, action) => {\n        state.loading = false;\n        state.accessToken = action.payload.accessToken;\n        state.refreshToken = action.payload.refreshToken;\n        state.userId = action.payload.userId;\n        state.user = action.payload.user;\n        state.isAuthenticated = true;\n\n        sessionStorage.setItem(\"accessToken\", action.payload.accessToken);\n        sessionStorage.setItem(\"refreshToken\", action.payload.refreshToken);\n        sessionStorage.setItem(\"userId\", action.payload.userId);\n        sessionStorage.setItem(\"user\", JSON.stringify(action.payload.user));\n        sessionStorage.setItem(\"isAuthenticated\", \"true\");\n      })\n      .addCase(login.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      .addCase(registerUser.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(registerUser.fulfilled, (state, action) => {\n        state.loading = false;\n        state.successMessage = action.payload.message;\n      })\n      .addCase(registerUser.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      .addCase(verifyEmail.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(verifyEmail.fulfilled, (state, action) => {\n        state.loading = false;\n        state.isVerified = true;\n        state.successMessage = action.payload.message;\n      })\n      .addCase(verifyEmail.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      .addCase(resendOTP.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(resendOTP.fulfilled, (state, action) => {\n        state.loading = false;\n        state.successMessage = action.payload.message;\n      })\n      .addCase(resendOTP.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      })\n      .addCase(approveUser.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(approveUser.fulfilled, (state) => {\n        state.loading = false;\n      })\n      .addCase(approveUser.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { loadSession, logout, clearAuthState } = authSlice.actions;\nexport default authSlice;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 996, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/WorkersSlice.ts"],"sourcesContent":["\"use client\";\n\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\nimport { WorkerData } from \"../types\";\n\n// Define local state interface \ninterface WorkerState {\n  worker: WorkerData | null;\n  loading: boolean;\n  error: string | null;\n  successMessage: string | null;\n}\n\n//  Fetch Worker Profile \nexport const fetchWorkerProfile = createAsyncThunk(\n  \"worker/fetchProfile\",\n  async (userId: string, { rejectWithValue }) => {\n    try {\n      const response = await api.get(`workers/${userId}/profile`);\n      return response;\n    } catch (err: any) {\n      return rejectWithValue(err.message || \"Failed to fetch profile\");\n    }\n  }\n);\n\nconst initialState: WorkerState = {\n  worker: null,\n  loading: false,\n  error: null,\n  successMessage: null,\n};\n\nconst workerSlice = createSlice({\n  name: \"worker\",\n  initialState,\n  reducers: {\n    clearWorkerState: (state) => {\n      state.error = null;\n      state.successMessage = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchWorkerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchWorkerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.worker = action.payload as any;\n      })\n      .addCase(fetchWorkerProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearWorkerState } = workerSlice.actions;\nexport default workerSlice;"],"names":[],"mappings":";;;;;;;;AAEA;AACA;AAHA;;;AAeO,MAAM,qBAAqB,IAAA,kNAAgB,EAChD,uBACA,OAAO,QAAgB,EAAE,eAAe,EAAE;IACxC,IAAI;QACF,MAAM,WAAW,MAAM,iIAAG,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,OAAO,QAAQ,CAAC;QAC1D,OAAO;IACT,EAAE,OAAO,KAAU;QACjB,OAAO,gBAAgB,IAAI,OAAO,IAAI;IACxC;AACF;AAGF,MAAM,eAA4B;IAChC,QAAQ;IACR,SAAS;IACT,OAAO;IACP,gBAAgB;AAClB;AAEA,MAAM,cAAc,IAAA,6MAAW,EAAC;IAC9B,MAAM;IACN;IACA,UAAU;QACR,kBAAkB,CAAC;YACjB,MAAM,KAAK,GAAG;YACd,MAAM,cAAc,GAAG;QACzB;IACF;IACA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,mBAAmB,OAAO,EAAE,CAAC;YACpC,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG;QAChB,GACC,OAAO,CAAC,mBAAmB,SAAS,EAAE,CAAC,OAAO;YAC7C,MAAM,OAAO,GAAG;YAChB,MAAM,MAAM,GAAG,OAAO,OAAO;QAC/B,GACC,OAAO,CAAC,mBAAmB,QAAQ,EAAE,CAAC,OAAO;YAC5C,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;QAC9B;IACJ;AACF;AAEO,MAAM,EAAE,gBAAgB,EAAE,GAAG,YAAY,OAAO;uCACxC"}},
    {"offset": {"line": 1054, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/jobs/jobsCategories/jobCategories.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\n\ninterface Category {\n  id: string;\n  name: string;\n  description: string;\n}\n\ninterface CategoryState {\n  categories: Category[];\n  currentCategory: Category | null;\n  categoryJobs: any[];\n  loading: boolean;\n  error: string | null;\n  successMessage: string | null;\n}\n\nconst initialState: CategoryState = {\n  categories: [],\n  currentCategory: null,\n  categoryJobs: [],\n  loading: false,\n  error: null,\n  successMessage: null,\n};\n\n// Fetch all categories\n\nexport const fetchCategories = createAsyncThunk<\n  Category[],\n  void,\n  { rejectValue: string }\n>(\"categories/fetchCategories\", async (_, { rejectWithValue }) => {\n  try {\n   \n    const response = await api.get(\"/jobs/categories/?page_size=1000\");\n\n    if (response.data && Array.isArray(response.data.results)) {\n       return response.data.results;\n    }\n\n    return response.data || response;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to fetch categories\");\n  }\n});\n\n// Fetch single category\nexport const fetchCategoryById = createAsyncThunk<\n  Category,\n  string,\n  { rejectValue: string }\n>(\"categories/fetchCategoryById\", async (categoryId, { rejectWithValue }) => {\n  try {\n    const response = await api.get(`/jobs/categories/${categoryId}/`);\n    return response.data || response;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to fetch category\");\n  }\n});\n\n// Create category\nexport const createCategory = createAsyncThunk<\n  Category,\n  { name: string; description: string },\n  {\n    rejectValue:\n      | string\n      | { message: string; fieldErrors: Record<string, string[]> };\n  }\n>(\"categories/createCategory\", async (data, { rejectWithValue }) => {\n  try {\n    const response = await api.post(\"/jobs/categories/create/\", data);\n    return response.data || response;\n  } catch (error: any) {\n    if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n      return rejectWithValue({\n        message: \"Validation errors occurred\",\n        fieldErrors: error.fieldErrors,\n      } as any);\n    }\n    return rejectWithValue(error?.message || \"Failed to create category\");\n  }\n});\n\n// Update category\nexport const updateCategory = createAsyncThunk<\n  Category,\n  { categoryId: string; data: { name: string; description: string } },\n  {\n    rejectValue:\n      | string\n      | { message: string; fieldErrors: Record<string, string[]> };\n  }\n>(\n  \"categories/updateCategory\",\n  async ({ categoryId, data }, { rejectWithValue }) => {\n    try {\n      const response = await api.put(\n        `/jobs/categories/update/${categoryId}/`,\n        data,\n      );\n      return response.data || response;\n    } catch (error: any) {\n      if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n        return rejectWithValue({\n          message: \"Validation errors occurred\",\n          fieldErrors: error.fieldErrors,\n        } as any);\n      }\n      return rejectWithValue(error?.message || \"Failed to update category\");\n    }\n  },\n);\n\n// Delete category\nexport const deleteCategory = createAsyncThunk<\n  string,\n  string,\n  { rejectValue: string }\n>(\"categories/deleteCategory\", async (categoryId, { rejectWithValue }) => {\n  try {\n    await api.delete(`/jobs/categories/delete/${categoryId}/`);\n    return categoryId;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to delete category\");\n  }\n});\n\n// Fetch jobs in category\nexport const fetchJobsByCategory = createAsyncThunk<\n  any[],\n  string,\n  { rejectValue: string }\n>(\"categories/fetchJobsByCategory\", async (categoryId, { rejectWithValue }) => {\n  try {\n    const response = await api.get(`/jobs/categories/${categoryId}/jobs/`);\n    return response.data || response;\n  } catch (error: any) {\n    return rejectWithValue(\n      error?.message || \"Failed to fetch jobs in category\",\n    );\n  }\n});\n\nconst categoriesSlice = createSlice({\n  name: \"categories\",\n  initialState,\n  reducers: {\n    clearCategories: (state) => {\n      state.categories = [];\n      state.error = null;\n      if (typeof window !== \"undefined\") {\n        sessionStorage.removeItem(\"categories\");\n      }\n    },\n    hydrateCategories: (state, action: PayloadAction<Category[]>) => {\n      state.categories = action.payload;\n    },\n    clearState: (state) => {\n      state.error = null;\n      state.successMessage = null;\n    },\n    clearCurrentCategory: (state) => {\n      state.currentCategory = null;\n      state.categoryJobs = [];\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch all categories\n    builder\n      .addCase(fetchCategories.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(\n        fetchCategories.fulfilled,\n        (state, action: PayloadAction<Category[]>) => {\n          state.loading = false;\n          state.categories = Array.isArray(action.payload) ? action.payload : (action.payload as any).results || [];\n\n          if (typeof window !== \"undefined\") {\n            sessionStorage.setItem(\n              \"categories\",\n              JSON.stringify(state.categories),\n            );\n          }\n        },\n      )\n      .addCase(fetchCategories.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch single category\n    builder\n      .addCase(fetchCategoryById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(\n        fetchCategoryById.fulfilled,\n        (state, action: PayloadAction<Category>) => {\n          state.loading = false;\n          state.currentCategory = action.payload;\n        },\n      )\n      .addCase(fetchCategoryById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    // Create category\n    builder\n      .addCase(createCategory.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(\n        createCategory.fulfilled,\n        (state, action: PayloadAction<Category>) => {\n          state.loading = false;\n          state.categories.unshift(action.payload);\n          state.successMessage = \"Category created successfully\";\n\n          if (typeof window !== \"undefined\") {\n            sessionStorage.setItem(\n              \"categories\",\n              JSON.stringify(state.categories),\n            );\n          }\n        },\n      )\n      .addCase(createCategory.rejected, (state, action) => {\n        state.loading = false;\n        state.error =\n          typeof action.payload === \"string\"\n            ? action.payload\n            : \"Failed to create category\";\n      });\n\n    // Update category\n    builder\n      .addCase(updateCategory.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(\n        updateCategory.fulfilled,\n        (state, action: PayloadAction<Category>) => {\n          state.loading = false;\n          const index = state.categories.findIndex(\n            (cat) => cat.id === action.payload.id,\n          );\n          if (index !== -1) {\n            state.categories[index] = action.payload;\n          }\n          state.currentCategory = action.payload;\n          state.successMessage = \"Category updated successfully\";\n\n          if (typeof window !== \"undefined\") {\n            sessionStorage.setItem(\n              \"categories\",\n              JSON.stringify(state.categories),\n            );\n          }\n        },\n      )\n      .addCase(updateCategory.rejected, (state, action) => {\n        state.loading = false;\n        state.error =\n          typeof action.payload === \"string\"\n            ? action.payload\n            : \"Failed to update category\";\n      });\n\n    // Delete category\n    builder\n      .addCase(deleteCategory.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(\n        deleteCategory.fulfilled,\n        (state, action: PayloadAction<string>) => {\n          state.loading = false;\n          state.categories = state.categories.filter(\n            (cat) => cat.id !== action.payload,\n          );\n          if (state.currentCategory?.id === action.payload) {\n            state.currentCategory = null;\n          }\n          state.successMessage = \"Category deleted successfully\";\n\n          if (typeof window !== \"undefined\") {\n            sessionStorage.setItem(\n              \"categories\",\n              JSON.stringify(state.categories),\n            );\n          }\n        },\n      )\n      .addCase(deleteCategory.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch jobs by category\n    builder\n      .addCase(fetchJobsByCategory.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(\n        fetchJobsByCategory.fulfilled,\n        (state, action: PayloadAction<any[]>) => {\n          state.loading = false;\n          state.categoryJobs = action.payload;\n        },\n      )\n      .addCase(fetchJobsByCategory.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const {\n  clearCategories,\n  hydrateCategories,\n  clearState,\n  clearCurrentCategory,\n} = categoriesSlice.actions;\nexport default categoriesSlice;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1278, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/profileSlice.ts"],"sourcesContent":["\"use client\";\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\n\n// Types\ninterface UserProfile {\n  user_id: string;\n  email: string;\n  phone_number: string;\n  user_type: string;\n  full_name: string;\n  profile_photo_url: string | null;\n  email_verified: boolean;\n  phone_verified: boolean;\n}\n\ninterface UpdateProfilePayload {\n  full_name?: string;\n  phone_number?: string;\n  profile_photo?: File;\n}\n\ninterface ProfileState {\n  profile: UserProfile | null;\n  loading: boolean;\n  updating: boolean;\n  deleting: boolean;\n  error: string | null;\n}\n\n// Async Thunks\nexport const getProfile = createAsyncThunk<\n  UserProfile,\n  void,\n  { rejectValue: string }\n>(\"profile/getProfile\", async (_, { rejectWithValue }) => {\n  try {\n    const response = await api.get(\"accounts/me/\");\n\n    return response as unknown as UserProfile;\n  } catch (err: any) {\n    return rejectWithValue(err.message || \"Failed to fetch profile\");\n  }\n});\n\nexport const updateProfile = createAsyncThunk<\n  UserProfile,\n  UpdateProfilePayload,\n  { rejectValue: string }\n>(\"profile/updateProfile\", async (payload, { rejectWithValue }) => {\n  try {\n    // If there's a profile photo, use FormData\n    if (payload.profile_photo) {\n      const formData = new FormData();\n      if (payload.full_name) formData.append(\"full_name\", payload.full_name);\n      if (payload.phone_number)\n        formData.append(\"phone_number\", payload.phone_number);\n      formData.append(\"profile_photo\", payload.profile_photo);\n\n      const response = await api.put(\"accounts/me/update/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n\n      return response as unknown as UserProfile;\n    } else {\n      const response = await api.put(\"accounts/me/update/\", payload);\n\n      return response as unknown as UserProfile;\n    }\n  } catch (err: any) {\n    return rejectWithValue(err.message || \"Failed to update profile\");\n  }\n});\n\nexport const deleteProfile = createAsyncThunk<\n  void,\n  void,\n  { rejectValue: string }\n>(\"profile/deleteProfile\", async (_, { rejectWithValue }) => {\n  try {\n    await api.delete(\"accounts/me/delete/\");\n  } catch (err: any) {\n    return rejectWithValue(err.message || \"Failed to delete profile\");\n  }\n});\n\n// Initial State\nconst initialState: ProfileState = {\n  profile: null,\n  loading: false,\n  updating: false,\n  deleting: false,\n  error: null,\n};\n\n// Slice\nconst profileSlice = createSlice({\n  name: \"profile\",\n  initialState,\n  reducers: {\n    clearProfileError: (state) => {\n      state.error = null;\n    },\n    clearProfile: (state) => {\n      state.profile = null;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    // Get Profile\n    builder\n      .addCase(getProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(getProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.profile = action.payload;\n\n        // Optionally sync with sessionStorage\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\"user\", JSON.stringify(action.payload));\n        }\n      })\n      .addCase(getProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload ?? \"Failed to fetch profile\";\n      });\n\n    // Update Profile\n    builder\n      .addCase(updateProfile.pending, (state) => {\n        state.updating = true;\n        state.error = null;\n      })\n      .addCase(updateProfile.fulfilled, (state, action) => {\n        state.updating = false;\n        state.profile = action.payload;\n\n        // Sync with sessionStorage\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\"user\", JSON.stringify(action.payload));\n        }\n      })\n      .addCase(updateProfile.rejected, (state, action) => {\n        state.updating = false;\n        state.error = action.payload ?? \"Failed to update profile\";\n      });\n\n    // Delete Profile\n    builder\n      .addCase(deleteProfile.pending, (state) => {\n        state.deleting = true;\n        state.error = null;\n      })\n      .addCase(deleteProfile.fulfilled, (state) => {\n        state.deleting = false;\n        state.profile = null;\n\n        // Clear session storage and redirect\n        if (typeof window !== \"undefined\") {\n          sessionStorage.clear();\n          window.location.href = \"/auth/login\";\n        }\n      })\n      .addCase(deleteProfile.rejected, (state, action) => {\n        state.deleting = false;\n        state.error = action.payload ?? \"Failed to delete profile\";\n      });\n  },\n});\n\nexport const { clearProfileError, clearProfile } = profileSlice.actions;\nexport default profileSlice;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1413, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/jobsSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\nimport {\n  Job,\n  JobsState,\n  CreateJobData,\n  UpdateJobData,\n  JobFilters,\n  JobsResponse,\n  JobStatus,\n} from \"@/types/job.types\";\n\nconst initialState: JobsState = {\n  jobs: [],\n  featuredJobs: [],\n  currentJob: null,\n  jobSkills: [],\n  jobEmployer: null,\n  filters: {\n    page: 1,\n    limit: 10,\n  },\n  pagination: {\n    total: 0,\n    page: 1,\n    limit: 10,\n    total_pages: 0,\n  },\n  loading: false,\n  error: null,\n  successMessage: null,\n};\n\nexport const fetchJobs = createAsyncThunk<\n  JobsResponse,\n  JobFilters | void,\n  { rejectValue: string }\n>(\"jobs/fetchJobs\", async (filters, { rejectWithValue }) => {\n  try {\n    const queryParams = new URLSearchParams();\n\n    if (filters && typeof filters === \"object\") {\n      Object.entries(filters).forEach(([key, value]) => {\n        if (value !== undefined && value !== null && value !== \"\") {\n          queryParams.append(key, value.toString());\n        }\n      });\n    }\n\n    const queryString = queryParams.toString();\n    const url = `/jobs/${queryString ? `?${queryString}&page_size=1000` : \"?page_size=1000\"}`;\n\n    const response = await api.get(url);\n    return response as any;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to fetch jobs\");\n  }\n});\n\nexport const fetchFeaturedJobs = createAsyncThunk<\n  JobsResponse,\n  void,\n  { rejectValue: string }\n>(\"jobs/fetchFeaturedJobs\", async (_, { rejectWithValue }) => {\n  try {\n    const response = await api.get(\"/jobs/featured/\");\n    return response as any;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to fetch featured jobs\");\n  }\n});\n\nexport const fetchJobById = createAsyncThunk<\n  Job,\n  string,\n  { rejectValue: string }\n>(\"jobs/fetchJobById\", async (jobId, { rejectWithValue }) => {\n  try {\n    const response = await api.get(`/jobs/${jobId}/`);\n    return response as any;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to fetch job details\");\n  }\n});\n\nexport const createJob = createAsyncThunk<\n  Job,\n  CreateJobData,\n  {\n    rejectValue:\n      | string\n      | { message: string; fieldErrors: Record<string, string[]> };\n  }\n>(\"jobs/createJob\", async (jobData, { rejectWithValue }) => {\n  try {\n    const response = await api.post(\"/jobs/create/\", jobData);\n    return response as any;\n  } catch (error: any) {\n    if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n      return rejectWithValue({\n        message: \"Validation errors occurred\",\n        fieldErrors: error.fieldErrors,\n      } as any);\n    }\n    return rejectWithValue(error?.message || \"Failed to create job\");\n  }\n});\n\nexport const updateJob = createAsyncThunk<\n  Job,\n  { jobId: string; data: UpdateJobData },\n  {\n    rejectValue:\n      | string\n      | { message: string; fieldErrors: Record<string, string[]> };\n  }\n>(\"jobs/updateJob\", async ({ jobId, data }, { rejectWithValue }) => {\n  try {\n    const response = await api.put(`/jobs/update/${jobId}/`, data);\n    return response as any;\n  } catch (error: any) {\n    if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n      return rejectWithValue({\n        message: \"Validation errors occurred\",\n        fieldErrors: error.fieldErrors,\n      } as any);\n    }\n    return rejectWithValue(error?.message || \"Failed to update job\");\n  }\n});\n\nexport const deleteJob = createAsyncThunk<\n  string,\n  string,\n  { rejectValue: string }\n>(\"jobs/deleteJob\", async (jobId, { rejectWithValue }) => {\n  try {\n    await api.delete(`/jobs/delete/${jobId}/`);\n    return jobId;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to delete job\");\n  }\n});\n\nexport const updateJobStatus = createAsyncThunk<\n  { jobId: string; status: JobStatus },\n  { jobId: string; status: JobStatus },\n  { rejectValue: string }\n>(\"jobs/updateJobStatus\", async ({ jobId, status }, { rejectWithValue }) => {\n  try {\n    await api.post(`/jobs/${jobId}/status/`, { status });\n    return { jobId, status };\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to update job status\");\n  }\n});\n\nexport const fetchJobsByEmployer = createAsyncThunk<\n  JobsResponse,\n  string,\n  { rejectValue: string }\n>(\"jobs/fetchJobsByEmployer\", async (employerId, { rejectWithValue }) => {\n  try {\n    const response = await api.get(\n      `/jobs/employers/?employer_id=${employerId}&page_size=1000`,\n    );\n    return response as any;\n  } catch (error: any) {\n    return rejectWithValue(\n      error?.message || \"Failed to fetch jobs by employer\",\n    );\n  }\n});\n\nexport const fetchJobsByCategory = createAsyncThunk<\n  JobsResponse,\n  string,\n  { rejectValue: string }\n>(\"jobs/fetchJobsByCategory\", async (categoryId, { rejectWithValue }) => {\n  try {\n    const response = await api.get(`/jobs/category/${categoryId}/filter/?page_size=1000`);\n    return response as any;\n  } catch (error: any) {\n    return rejectWithValue(\n      error?.message || \"Failed to fetch jobs by category\",\n    );\n  }\n});\n\nconst jobsSlice = createSlice({\n  name: \"jobs\",\n  initialState,\n  reducers: {\n    clearJobs: (state) => {\n      state.jobs = [];\n      state.error = null;\n    },\n    hydrateJobs: (state, action: PayloadAction<Job[]>) => {\n      state.jobs = action.payload;\n    },\n    clearState: (state) => {\n      state.error = null;\n      state.successMessage = null;\n    },\n    clearCurrentJob: (state) => {\n      state.currentJob = null;\n      state.jobSkills = [];\n      state.jobEmployer = null;\n    },\n    setFilters: (state, action: PayloadAction<JobFilters>) => {\n      state.filters = { ...state.filters, ...action.payload };\n    },\n    clearFilters: (state) => {\n      state.filters = {\n        page: 1,\n        limit: 10,\n      };\n    },\n    setPagination: (\n      state,\n      action: PayloadAction<{ page: number; limit?: number }>,\n    ) => {\n      state.pagination.page = action.payload.page;\n      if (action.payload.limit) {\n        state.pagination.limit = action.payload.limit;\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchJobs.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchJobs.fulfilled, (state, action) => {\n        state.loading = false;\n        \n        const payload = action.payload as any;\n\n        if (payload.results && !Array.isArray(payload.results) && payload.results.data && Array.isArray(payload.results.data)) {\n            state.jobs = payload.results.data;\n        } \n        else if (payload.results && Array.isArray(payload.results)) {\n            state.jobs = payload.results;\n        } \n        else if (payload.data && Array.isArray(payload.data)) {\n            state.jobs = payload.data;\n        } \n        else if (Array.isArray(payload)) {\n            state.jobs = payload;\n        } \n        else {\n            state.jobs = [];\n        }\n\n        if (payload.pagination) {\n          state.pagination = payload.pagination;\n        } else if (payload.count !== undefined) {\n           const total = payload.count;\n           const limit = state.filters.limit || 10;\n           state.pagination = {\n             total: total,\n             page: state.filters.page || 1,\n             limit: limit,\n             total_pages: Math.ceil(total / limit)\n           };\n        }\n      })\n      .addCase(fetchJobs.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n   \n    builder\n      .addCase(fetchFeaturedJobs.fulfilled, (state, action) => {\n        const payload = action.payload as any;\n        let rawJobs: any[] = [];\n\n        if (payload.results && !Array.isArray(payload.results) && payload.results.data && Array.isArray(payload.results.data)) {\n            rawJobs = payload.results.data;\n        } else if (payload.results && Array.isArray(payload.results)) {\n            rawJobs = payload.results;\n        } else if (payload.data && Array.isArray(payload.data)) {\n            rawJobs = payload.data;\n        } else if (Array.isArray(payload)) {\n            rawJobs = payload;\n        }\n\n        \n        state.featuredJobs = rawJobs.map((job) => ({\n            ...job,\n           \n            category: job.category || (job.category_name ? { name: job.category_name } : { name: \"General\" }),\n            \n            employer: job.employer || (job.employer_name ? { company_name: job.employer_name } : null),\n            \n            description: job.description || \"View details to see full job description.\",\n        }));\n      });\n\n    builder\n      .addCase(fetchJobById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchJobById.fulfilled, (state, action) => {\n        state.loading = false;\n        const job = (action.payload as any).data || action.payload;\n        state.currentJob = job;\n      })\n      .addCase(fetchJobById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    builder\n      .addCase(createJob.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(createJob.fulfilled, (state, action) => {\n        state.loading = false;\n        const job = (action.payload as any).data || action.payload;\n        state.jobs.unshift(job);\n        state.successMessage = \"Job created successfully\";\n      })\n      .addCase(createJob.rejected, (state, action) => {\n        state.loading = false;\n        state.error = typeof action.payload === \"string\" ? action.payload : \"Failed to create job\";\n      });\n\n    builder\n      .addCase(updateJob.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(updateJob.fulfilled, (state, action) => {\n        state.loading = false;\n        const job = (action.payload as any).data || action.payload;\n        const index = state.jobs.findIndex((j) => j.id === job.id);\n        if (index !== -1) state.jobs[index] = job;\n        state.currentJob = job;\n        state.successMessage = \"Job updated successfully\";\n      })\n      .addCase(updateJob.rejected, (state, action) => {\n        state.loading = false;\n        state.error = typeof action.payload === \"string\" ? action.payload : \"Failed to update job\";\n      });\n\n    builder\n      .addCase(deleteJob.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(deleteJob.fulfilled, (state, action) => {\n        state.loading = false;\n        state.jobs = state.jobs.filter((job) => job.id !== action.payload);\n        if (state.currentJob?.id === action.payload) state.currentJob = null;\n        state.successMessage = \"Job deleted successfully\";\n      })\n      .addCase(deleteJob.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    builder\n      .addCase(updateJobStatus.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(updateJobStatus.fulfilled, (state, action) => {\n        state.loading = false;\n        const { jobId, status } = action.payload;\n        const index = state.jobs.findIndex((job) => job.id === jobId);\n        if (index !== -1) state.jobs[index].status = status;\n        if (state.currentJob?.id === jobId) state.currentJob.status = status;\n        state.successMessage = \"Job status updated successfully\";\n      })\n      .addCase(updateJobStatus.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    builder\n      .addCase(fetchJobsByEmployer.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchJobsByEmployer.fulfilled, (state, action) => {\n        state.loading = false;\n        const payload = action.payload as any;\n        if (payload.results && !Array.isArray(payload.results) && payload.results.data) {\n             state.jobs = payload.results.data;\n        } else if (payload.results && Array.isArray(payload.results)) {\n            state.jobs = payload.results;\n        } else if (payload.data && Array.isArray(payload.data)) {\n          state.jobs = payload.data;\n        } else {\n          state.jobs = Array.isArray(action.payload) ? action.payload : [];\n        }\n        if (action.payload && action.payload.pagination) state.pagination = action.payload.pagination;\n      })\n      .addCase(fetchJobsByEmployer.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    builder\n      .addCase(fetchJobsByCategory.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchJobsByCategory.fulfilled, (state, action) => {\n        state.loading = false;\n        const payload = action.payload as any;\n        if (payload.results && !Array.isArray(payload.results) && payload.results.data) {\n             state.jobs = payload.results.data;\n        } else if (payload.results && Array.isArray(payload.results)) {\n             state.jobs = payload.results;\n        } else if (payload.data && Array.isArray(payload.data)) {\n          state.jobs = payload.data;\n        } else {\n          state.jobs = Array.isArray(action.payload) ? action.payload : [];\n        }\n        if (action.payload && action.payload.pagination) state.pagination = action.payload.pagination;\n      })\n      .addCase(fetchJobsByCategory.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const {\n  clearJobs,\n  hydrateJobs,\n  clearState,\n  clearCurrentJob,\n  setFilters,\n  clearFilters,\n  setPagination,\n} = jobsSlice.actions;\n\nexport default jobsSlice;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1786, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/jobs/jobEmployerSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\nimport { JobEmployer, JobEmployerResponse } from \"@/types/job.types\";\n\ninterface JobEmployerState {\n  employer: JobEmployer | null;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: JobEmployerState = {\n  employer: null,\n  loading: false,\n  error: null,\n};\n\n// Fetch employer who posted the job (get_employer_whoPostedJob endpoint)\nexport const fetchJobEmployer = createAsyncThunk<\n  JobEmployer,\n  string,\n  { rejectValue: string }\n>(\"jobEmployer/fetchJobEmployer\", async (jobId, { rejectWithValue }) => {\n  try {\n    const response = await api.get(`/jobs/employer/${jobId}/`);\n    return response.data || response;\n  } catch (error: any) {\n    return rejectWithValue(error?.message || \"Failed to fetch job employer\");\n  }\n});\n\nconst jobEmployerSlice = createSlice({\n  name: \"jobEmployer\",\n  initialState,\n  reducers: {\n    clearJobEmployer: (state) => {\n      state.employer = null;\n      state.error = null;\n    },\n    clearEmployerState: (state) => {\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchJobEmployer.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchJobEmployer.fulfilled, (state, action) => {\n        state.loading = false;\n        state.employer = action.payload;\n      })\n      .addCase(fetchJobEmployer.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n  },\n});\n\nexport const { clearJobEmployer, clearEmployerState } =\n  jobEmployerSlice.actions;\nexport default jobEmployerSlice;\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;;;AASA,MAAM,eAAiC;IACrC,UAAU;IACV,SAAS;IACT,OAAO;AACT;AAGO,MAAM,mBAAmB,IAAA,kNAAgB,EAI9C,gCAAgC,OAAO,OAAO,EAAE,eAAe,EAAE;IACjE,IAAI;QACF,MAAM,WAAW,MAAM,iIAAG,CAAC,GAAG,CAAC,CAAC,eAAe,EAAE,MAAM,CAAC,CAAC;QACzD,OAAO,SAAS,IAAI,IAAI;IAC1B,EAAE,OAAO,OAAY;QACnB,OAAO,gBAAgB,OAAO,WAAW;IAC3C;AACF;AAEA,MAAM,mBAAmB,IAAA,6MAAW,EAAC;IACnC,MAAM;IACN;IACA,UAAU;QACR,kBAAkB,CAAC;YACjB,MAAM,QAAQ,GAAG;YACjB,MAAM,KAAK,GAAG;QAChB;QACA,oBAAoB,CAAC;YACnB,MAAM,KAAK,GAAG;QAChB;IACF;IACA,eAAe,CAAC;QACd,QACG,OAAO,CAAC,iBAAiB,OAAO,EAAE,CAAC;YAClC,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG;QAChB,GACC,OAAO,CAAC,iBAAiB,SAAS,EAAE,CAAC,OAAO;YAC3C,MAAM,OAAO,GAAG;YAChB,MAAM,QAAQ,GAAG,OAAO,OAAO;QACjC,GACC,OAAO,CAAC,iBAAiB,QAAQ,EAAE,CAAC,OAAO;YAC1C,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO;QAC9B;IACJ;AACF;AAEO,MAAM,EAAE,gBAAgB,EAAE,kBAAkB,EAAE,GACnD,iBAAiB,OAAO;uCACX"}},
    {"offset": {"line": 1847, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/employerProfilesSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\nimport {\n  EmployerProfile,\n  EmployerProfileState,\n  CreateEmployerProfileData,\n  UpdateEmployerProfileData,\n  EmployerProfileFilters,\n  EmployerProfileResponse,\n  EmployerProfilesResponse,\n} from \"@/types/employer.types\";\n\nconst initialState: EmployerProfileState = {\n  profiles: [],\n  currentProfile: null,\n  userProfile: null,\n  filters: {\n    page: 1,\n    limit: 10,\n  },\n  pagination: {\n    total: 0,\n    page: 1,\n    limit: 10,\n    total_pages: 0,\n  },\n  loading: false,\n  error: null,\n  successMessage: null,\n};\n\nexport const fetchEmployerProfiles = createAsyncThunk<\n  any,\n  EmployerProfileFilters | void,\n  { rejectValue: string }\n>(\n  \"employerProfiles/fetchEmployerProfiles\",\n  async (filters, { rejectWithValue }) => {\n    try {\n      const queryParams = new URLSearchParams();\n      \n      if (filters && typeof filters === 'object') {\n        Object.entries(filters).forEach(([key, value]) => {\n          if (value !== undefined && value !== null && value !== '') {\n            queryParams.append(key, value.toString());\n          }\n        });\n      }\n\n      const queryString = queryParams.toString();\n      const url = `/adminpanel/employer-profiles/${queryString ? `?${queryString}` : ''}`;\n      \n      const response = await api.get(url);\n      return response.data || response;\n    } catch (error: any) {\n      return rejectWithValue(\n        error?.message || \"Failed to fetch employer profiles\"\n      );\n    }\n  }\n);\n\nexport const fetchEmployerProfileById = createAsyncThunk<\n  EmployerProfile,\n  string,\n  { rejectValue: string }\n>(\n  \"employerProfiles/fetchEmployerProfileById\",\n  async (profileId, { rejectWithValue }) => {\n    try {\n      const response = await api.get(`/adminpanel/employer-profiles/${profileId}/`);\n      return response.data || response;\n    } catch (error: any) {\n      return rejectWithValue(\n        error?.message || \"Failed to fetch employer profile\"\n      );\n    }\n  }\n);\n\nexport const fetchUserEmployerProfile = createAsyncThunk<\n  EmployerProfile,\n  string,\n  { rejectValue: string }\n>(\n  \"employerProfiles/fetchUserEmployerProfile\",\n  async (userId, { rejectWithValue }) => {\n    try {\n      const response = await api.get(`/employers/employer-profiles/${userId}/`);\n      return response.data || response;\n    } catch (error: any) {\n    \n      if (error?.status === 404) {\n        return rejectWithValue(\"Employer profile not found\");\n      }\n      return rejectWithValue(\n        error?.message || \"Failed to fetch user employer profile\"\n      );\n    }\n  }\n);\n\nexport const createEmployerProfile = createAsyncThunk<\n  EmployerProfile,\n  CreateEmployerProfileData,\n  { rejectValue: string | { message: string; fieldErrors: Record<string, string[]> } }\n>(\n  \"employerProfiles/createEmployerProfile\",\n  async (profileData, { rejectWithValue }) => {\n    try {\n      const response = await api.post(\"/employers/employer-profiles/create/\", profileData);\n      return response.data || response;\n    } catch (error: any) {\n      if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n        return rejectWithValue({\n          message: \"Validation errors occurred\",\n          fieldErrors: error.fieldErrors,\n        } as any);\n      }\n      \n      if (error?.data && typeof error.data === 'object') {\n        const fieldErrors: Record<string, string[]> = {};\n        let hasFieldErrors = false;\n        \n        Object.entries(error.data).forEach(([key, value]) => {\n          if (Array.isArray(value)) {\n            fieldErrors[key] = value;\n            hasFieldErrors = true;\n          } else if (typeof value === 'string') {\n            fieldErrors[key] = [value];\n            hasFieldErrors = true;\n          }\n        });\n        \n        if (hasFieldErrors) {\n          return rejectWithValue({\n            message: \"Please fix the validation errors\",\n            fieldErrors: fieldErrors,\n          } as any);\n        }\n      }\n      \n      return rejectWithValue(error?.message || \"Failed to create employer profile\");\n    }\n  }\n);\n\nexport const updateEmployerProfile = createAsyncThunk<\n  EmployerProfile,\n  { profileId: string; data: UpdateEmployerProfileData },\n  { rejectValue: string | { message: string; fieldErrors: Record<string, string[]> } }\n>(\n  \"employerProfiles/updateEmployerProfile\",\n  async ({ profileId, data }, { rejectWithValue }) => {\n    try {\n      const response = await api.put(`/employers/employer-profiles/${profileId}/update/`, data);\n      return response.data || response;\n    } catch (error: any) {\n      if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n        return rejectWithValue({\n          message: \"Validation errors occurred\",\n          fieldErrors: error.fieldErrors,\n        } as any);\n      }\n      return rejectWithValue(error?.message || \"Failed to update employer profile\");\n    }\n  }\n);\n\nconst employerProfilesSlice = createSlice({\n  name: \"employerProfiles\",\n  initialState,\n  reducers: {\n    clearEmployerProfiles: (state) => {\n      state.profiles = [];\n      state.error = null;\n      if (typeof window !== \"undefined\") {\n        sessionStorage.removeItem(\"employerProfiles\");\n      }\n    },\n    hydrateEmployerProfiles: (state, action: PayloadAction<EmployerProfile[]>) => {\n      state.profiles = action.payload;\n    },\n    clearEmployerProfileState: (state) => {\n      state.error = null;\n      state.successMessage = null;\n    },\n    clearCurrentProfile: (state) => {\n      state.currentProfile = null;\n    },\n    clearUserProfile: (state) => {\n      state.userProfile = null;\n    },\n    setFilters: (state, action: PayloadAction<EmployerProfileFilters>) => {\n      state.filters = { ...state.filters, ...action.payload };\n    },\n    clearFilters: (state) => {\n      state.filters = {\n        page: 1,\n        limit: 10,\n      };\n    },\n    setPagination: (state, action: PayloadAction<{ page: number; limit?: number }>) => {\n      state.pagination.page = action.payload.page;\n      if (action.payload.limit) {\n        state.pagination.limit = action.payload.limit;\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchEmployerProfiles.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchEmployerProfiles.fulfilled, (state, action) => {\n        state.loading = false;\n        \n        if (action.payload.results && Array.isArray(action.payload.results)) {\n          state.profiles = action.payload.results;\n          const count = action.payload.count || 0;\n          const limit = state.filters.limit || 10;\n          state.pagination = {\n            total: count,\n            page: state.filters.page || 1,\n            limit: limit,\n            total_pages: Math.ceil(count / limit),\n          };\n        } else if (action.payload.data && Array.isArray(action.payload.data)) {\n           state.profiles = action.payload.data;\n           if (action.payload.pagination) {\n             state.pagination = action.payload.pagination;\n           }\n        } else if (Array.isArray(action.payload)) {\n           state.profiles = action.payload;\n        } else {\n           state.profiles = [];\n        }\n\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\"employerProfiles\", JSON.stringify(state.profiles));\n        }\n      })\n      .addCase(fetchEmployerProfiles.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    builder\n      .addCase(fetchEmployerProfileById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchEmployerProfileById.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentProfile = action.payload;\n      })\n      .addCase(fetchEmployerProfileById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    builder\n      .addCase(fetchUserEmployerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchUserEmployerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.userProfile = action.payload;\n        \n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\"userEmployerProfile\", JSON.stringify(action.payload));\n        }\n      })\n      .addCase(fetchUserEmployerProfile.rejected, (state, action) => {\n        state.loading = false;\n        \n        const errorMsg = action.payload as string;\n        if (errorMsg === \"Employer profile not found\") {\n          state.error = null;\n          state.userProfile = null;\n        } else {\n          state.error = errorMsg;\n        }\n      });\n\n    builder\n      .addCase(createEmployerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(createEmployerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.profiles.unshift(action.payload);\n        state.userProfile = action.payload;\n        state.successMessage = \"Employer profile created successfully\";\n\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\"employerProfiles\", JSON.stringify(state.profiles));\n          sessionStorage.setItem(\"userEmployerProfile\", JSON.stringify(action.payload));\n        }\n      })\n      .addCase(createEmployerProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error = typeof action.payload === \"string\"\n          ? action.payload\n          : \"Failed to create employer profile\";\n      });\n\n    builder\n      .addCase(updateEmployerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(updateEmployerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        const index = state.profiles.findIndex(\n          (profile) => profile.id === action.payload.id\n        );\n        if (index !== -1) {\n          state.profiles[index] = action.payload;\n        }\n        state.currentProfile = action.payload;\n        \n        if (state.userProfile?.id === action.payload.id) {\n          state.userProfile = action.payload;\n        }\n        \n        state.successMessage = \"Employer profile updated successfully\";\n\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\"employerProfiles\", JSON.stringify(state.profiles));\n          if (state.userProfile?.id === action.payload.id) {\n            sessionStorage.setItem(\"userEmployerProfile\", JSON.stringify(action.payload));\n          }\n        }\n      })\n      .addCase(updateEmployerProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error = typeof action.payload === \"string\"\n          ? action.payload\n          : \"Failed to update employer profile\";\n      });\n  },\n});\n\nexport const {\n  clearEmployerProfiles,\n  hydrateEmployerProfiles,\n  clearEmployerProfileState,\n  clearCurrentProfile,\n  clearUserProfile,\n  setFilters,\n  clearFilters,\n  setPagination,\n} = employerProfilesSlice.actions;\n\nexport default employerProfilesSlice;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2143, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/workerProfilesSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport api from \"@/lib/axios\";\nimport {\n  WorkerProfile,\n  WorkerProfileState,\n  CreateWorkerProfileData,\n  UpdateWorkerProfileData,\n  WorkerProfileFilters,\n  WorkerProfileResponse,\n  WorkerProfilesResponse,\n} from \"@/types/worker.types\";\n\nconst initialState: WorkerProfileState = {\n  profiles: [],\n  currentProfile: null,\n  userProfile: null,\n  filters: {\n    page: 1,\n    limit: 10,\n  },\n  pagination: {\n    total: 0,\n    page: 1,\n    limit: 10,\n    total_pages: 0,\n  },\n  loading: false,\n  error: null,\n  successMessage: null,\n};\n\n// Async thunks\n\n// 1. Fetch all worker profiles with filters\nexport const fetchWorkerProfiles = createAsyncThunk<\n  WorkerProfile[] | WorkerProfilesResponse,\n  WorkerProfileFilters | void,\n  { rejectValue: string }\n>(\n  \"workerProfiles/fetchWorkerProfiles\",\n  async (filters, { rejectWithValue }) => {\n    try {\n      const queryParams = new URLSearchParams();\n\n      // Build query parameters - handle void filters\n      if (filters && typeof filters === \"object\") {\n        Object.entries(filters).forEach(([key, value]) => {\n          if (value !== undefined && value !== null && value !== \"\") {\n            queryParams.append(key, value.toString());\n          }\n        });\n      }\n\n      const queryString = queryParams.toString();\n      const url = `/workers/profiles/list/${queryString ? `?${queryString}` : \"\"}`;\n\n      const response = await api.get(url);\n      return response.data || response;\n    } catch (error: any) {\n      return rejectWithValue(\n        error?.message || \"Failed to fetch worker profiles\",\n      );\n    }\n  },\n);\n\n// 2. Fetch single worker profile by ID\nexport const fetchWorkerProfileById = createAsyncThunk<\n  WorkerProfile,\n  string,\n  { rejectValue: string }\n>(\n  \"workerProfiles/fetchWorkerProfileById\",\n  async (profileId, { rejectWithValue }) => {\n    try {\n      const response = await api.get(`/workers/profiles/${profileId}/`);\n      return response.data || response;\n    } catch (error: any) {\n      return rejectWithValue(\n        error?.message || \"Failed to fetch worker profile\",\n      );\n    }\n  },\n);\n\n// 3. Fetch current user's worker profile by filtering\nexport const fetchUserWorkerProfile = createAsyncThunk<\n  WorkerProfile | null,\n  string,\n  { rejectValue: string }\n>(\n  \"workerProfiles/fetchUserWorkerProfile\",\n  async (userId, { rejectWithValue }) => {\n    try {\n      const response = await api.get(\"/workers/profiles/list/\");\n      const profiles = Array.isArray(response) ? response : response.data || [];\n\n      console.log(\"Fetching user worker profile for userId:\", userId);\n      console.log(\"Profiles fetched:\", profiles.length);\n\n      // Find the profile that belongs to the current user\n\n      const userProfile = profiles.find((profile: any) => {\n        if (typeof profile.user === \"string\") {\n          return profile.user === userId;\n        } else if (profile.user && typeof profile.user === \"object\") {\n          return profile.user.id === userId;\n        }\n        return false;\n      });\n\n      if (!userProfile) {\n        console.log(\"No worker profile found for user:\", userId);\n        return null;\n      }\n\n      console.log(\"Found user worker profile:\", userProfile);\n      return userProfile;\n    } catch (error: any) {\n      console.error(\"Fetch user worker profile error:\", error);\n      return rejectWithValue(\n        error?.message || \"Failed to fetch user worker profile\",\n      );\n    }\n  },\n);\n\n// 4. Create worker profile\nexport const createWorkerProfile = createAsyncThunk<\n  WorkerProfile,\n  CreateWorkerProfileData,\n  {\n    rejectValue:\n      | string\n      | { message: string; fieldErrors: Record<string, string[]> };\n  }\n>(\n  \"workerProfiles/createWorkerProfile\",\n  async (profileData, { rejectWithValue }) => {\n    try {\n      console.log(\"Sending worker profile data:\", profileData);\n      const response = await api.post(\"/workers/profiles/\", profileData);\n      console.log(\"Worker profile created successfully:\", response);\n      return response.data || response;\n    } catch (error: any) {\n      console.error(\"Create worker profile error:\", error);\n\n      // Handle specific error cases\n      if (error.status === 400) {\n        // Check for duplicate profile error\n        if (error.message && error.message.includes(\"already exists\")) {\n          return rejectWithValue(\n            \"You already have a worker profile. Please refresh the page.\",\n          );\n        }\n\n        // Handle validation errors\n        if (error?.data && typeof error.data === \"object\") {\n          const fieldErrors: Record<string, string[]> = {};\n          let hasFieldErrors = false;\n\n          Object.entries(error.data).forEach(([key, value]) => {\n            if (Array.isArray(value)) {\n              fieldErrors[key] = value;\n              hasFieldErrors = true;\n            } else if (typeof value === \"string\") {\n              fieldErrors[key] = [value];\n              hasFieldErrors = true;\n            }\n          });\n\n          if (hasFieldErrors) {\n            return rejectWithValue({\n              message: \"Please fix the validation errors\",\n              fieldErrors: fieldErrors,\n            } as any);\n          }\n        }\n      }\n\n      if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n        return rejectWithValue({\n          message: \"Validation errors occurred\",\n          fieldErrors: error.fieldErrors,\n        } as any);\n      }\n\n      return rejectWithValue(\n        error?.message || \"Failed to create worker profile\",\n      );\n    }\n  },\n);\n\n// 5. Update worker profile\nexport const updateWorkerProfile = createAsyncThunk<\n  WorkerProfile,\n  { profileId: string; data: UpdateWorkerProfileData },\n  {\n    rejectValue:\n      | string\n      | { message: string; fieldErrors: Record<string, string[]> };\n  }\n>(\n  \"workerProfiles/updateWorkerProfile\",\n  async ({ profileId, data }, { rejectWithValue }) => {\n    try {\n      const response = await api.put(\n        `/workers/profiles/${profileId}/update/`,\n        data,\n      );\n      return response.data || response;\n    } catch (error: any) {\n      if (error?.fieldErrors && Object.keys(error.fieldErrors).length > 0) {\n        return rejectWithValue({\n          message: \"Validation errors occurred\",\n          fieldErrors: error.fieldErrors,\n        } as any);\n      }\n      return rejectWithValue(\n        error?.message || \"Failed to update worker profile\",\n      );\n    }\n  },\n);\n\n// Worker profiles slice\nconst workerProfilesSlice = createSlice({\n  name: \"workerProfiles\",\n  initialState,\n  reducers: {\n    clearWorkerProfiles: (state) => {\n      state.profiles = [];\n      state.error = null;\n      if (typeof window !== \"undefined\") {\n        sessionStorage.removeItem(\"workerProfiles\");\n      }\n    },\n    hydrateWorkerProfiles: (state, action: PayloadAction<WorkerProfile[]>) => {\n      state.profiles = action.payload;\n    },\n    clearWorkerProfileState: (state) => {\n      state.error = null;\n      state.successMessage = null;\n    },\n    clearCurrentProfile: (state) => {\n      state.currentProfile = null;\n    },\n    clearUserProfile: (state) => {\n      state.userProfile = null;\n    },\n    setFilters: (state, action: PayloadAction<WorkerProfileFilters>) => {\n      state.filters = { ...state.filters, ...action.payload };\n    },\n    clearFilters: (state) => {\n      state.filters = {\n        page: 1,\n        limit: 10,\n      };\n    },\n    setPagination: (\n      state,\n      action: PayloadAction<{ page: number; limit?: number }>,\n    ) => {\n      state.pagination.page = action.payload.page;\n      if (action.payload.limit) {\n        state.pagination.limit = action.payload.limit;\n      }\n    },\n  },\n  extraReducers: (builder) => {\n    // Fetch worker profiles\n    builder\n      .addCase(fetchWorkerProfiles.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchWorkerProfiles.fulfilled, (state, action) => {\n        state.loading = false;\n\n        // Handle both direct array response and object with data property\n        if (Array.isArray(action.payload)) {\n          state.profiles = action.payload;\n        } else if (\n          action.payload &&\n          typeof action.payload === \"object\" &&\n          \"data\" in action.payload\n        ) {\n          state.profiles = action.payload.data || [];\n          if (action.payload.pagination) {\n            state.pagination = action.payload.pagination;\n          }\n        } else {\n          state.profiles = [];\n        }\n\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\n            \"workerProfiles\",\n            JSON.stringify(state.profiles),\n          );\n        }\n      })\n      .addCase(fetchWorkerProfiles.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch worker profile by ID\n    builder\n      .addCase(fetchWorkerProfileById.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchWorkerProfileById.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentProfile = action.payload;\n      })\n      .addCase(fetchWorkerProfileById.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    // Fetch user worker profile\n    builder\n      .addCase(fetchUserWorkerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchUserWorkerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.userProfile = action.payload;\n\n        if (typeof window !== \"undefined\") {\n          if (action.payload) {\n            sessionStorage.setItem(\n              \"userWorkerProfile\",\n              JSON.stringify(action.payload),\n            );\n          } else {\n            sessionStorage.removeItem(\"userWorkerProfile\");\n          }\n        }\n      })\n      .addCase(fetchUserWorkerProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload as string;\n      });\n\n    // Create worker profile\n    builder\n      .addCase(createWorkerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(createWorkerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        state.profiles.unshift(action.payload);\n        state.userProfile = action.payload; // Set as user's profile\n        state.successMessage = \"Worker profile created successfully\";\n\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\n            \"workerProfiles\",\n            JSON.stringify(state.profiles),\n          );\n          sessionStorage.setItem(\n            \"userWorkerProfile\",\n            JSON.stringify(action.payload),\n          );\n        }\n      })\n      .addCase(createWorkerProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error =\n          typeof action.payload === \"string\"\n            ? action.payload\n            : \"Failed to create worker profile\";\n      });\n\n    // Update worker profile\n    builder\n      .addCase(updateWorkerProfile.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n        state.successMessage = null;\n      })\n      .addCase(updateWorkerProfile.fulfilled, (state, action) => {\n        state.loading = false;\n        const index = state.profiles.findIndex(\n          (profile) => profile.id === action.payload.id,\n        );\n        if (index !== -1) {\n          state.profiles[index] = action.payload;\n        }\n        state.currentProfile = action.payload;\n\n        // Update user profile if it matches\n        if (state.userProfile?.id === action.payload.id) {\n          state.userProfile = action.payload;\n        }\n\n        state.successMessage = \"Worker profile updated successfully\";\n\n        if (typeof window !== \"undefined\") {\n          sessionStorage.setItem(\n            \"workerProfiles\",\n            JSON.stringify(state.profiles),\n          );\n          if (state.userProfile?.id === action.payload.id) {\n            sessionStorage.setItem(\n              \"userWorkerProfile\",\n              JSON.stringify(action.payload),\n            );\n          }\n        }\n      })\n      .addCase(updateWorkerProfile.rejected, (state, action) => {\n        state.loading = false;\n        state.error =\n          typeof action.payload === \"string\"\n            ? action.payload\n            : \"Failed to update worker profile\";\n      });\n  },\n});\n\nexport const {\n  clearWorkerProfiles,\n  hydrateWorkerProfiles,\n  clearWorkerProfileState,\n  clearCurrentProfile,\n  clearUserProfile,\n  setFilters,\n  clearFilters,\n  setPagination,\n} = workerProfilesSlice.actions;\n\nexport default workerProfilesSlice;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2462, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/services/chatApi.ts"],"sourcesContent":["import api from \"../lib/axios\";\nimport {\n  Conversation,\n  Message,\n  CreateMessageData,\n  SendMessagePayload,\n  User,\n} from \"../types/chat.types\";\n\n/**\n * Handles all chat and messaging-related API calls\n */\nexport class ChatApi {\n  private static readonly BASE_ENDPOINT = \"/messages\";\n  private static readonly CONVERSATIONS_ENDPOINT = \"/conversations\";\n\n  /**\n   * Fetch all conversations for the current user\n   * GET /api/conversations/\n   */\n  static async getConversations(): Promise<Conversation[]> {\n    try {\n      const response = await api.get(this.CONVERSATIONS_ENDPOINT + \"/\");\n      return response.data.results || response.data;\n    } catch (error: any) {\n      console.error(\"Error fetching conversations:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to fetch conversations\"\n      );\n    }\n  }\n\n  /**\n   * Get or create a conversation with a specific user\n   * POST /api/conversations/get-or-create/\n   */\n  static async getOrCreateConversation(\n    participantId: string\n  ): Promise<Conversation> {\n    try {\n      const response = await api.post(\n        `${this.CONVERSATIONS_ENDPOINT}/get-or-create/`,\n        {\n          participant_id: participantId,\n        }\n      );\n      return response.data;\n    } catch (error: any) {\n      console.error(\"Error creating conversation:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to create conversation\"\n      );\n    }\n  }\n\n  /**\n   * Fetch messages for a specific conversation\n   * GET /api/conversations/{id}/messages/\n   */\n  static async getMessages(conversationId: string): Promise<Message[]> {\n    try {\n      const response = await api.get(\n        `${this.CONVERSATIONS_ENDPOINT}/${conversationId}/messages/`\n      );\n      return response.data.results || response.data;\n    } catch (error: any) {\n      console.error(\"Error fetching messages:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to fetch messages\"\n      );\n    }\n  }\n\n  /**\n   * Send a new message\n   * POST /api/messages/\n   */\n  static async sendMessage(data: CreateMessageData): Promise<Message> {\n    try {\n      const response = await api.post(this.BASE_ENDPOINT + \"/\", data);\n      return response.data;\n    } catch (error: any) {\n      console.error(\"Error sending message:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to send message\"\n      );\n    }\n  }\n\n  /**\n   * Mark messages as read\n   * POST /api/conversations/{id}/mark-read/\n   */\n  static async markMessagesAsRead(conversationId: string): Promise<void> {\n    try {\n      await api.post(\n        `${this.CONVERSATIONS_ENDPOINT}/${conversationId}/mark-read/`\n      );\n    } catch (error: any) {\n      console.error(\"Error marking messages as read:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to mark messages as read\"\n      );\n    }\n  }\n\n  /**\n   * Delete a message\n   * DELETE /api/messages/{id}/\n   */\n  static async deleteMessage(messageId: string): Promise<void> {\n    try {\n      await api.delete(`${this.BASE_ENDPOINT}/${messageId}/`);\n    } catch (error: any) {\n      console.error(\"Error deleting message:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to delete message\"\n      );\n    }\n  }\n\n  /**\n   * Archive a conversation\n   * POST /api/conversations/{id}/archive/\n   */\n  static async archiveConversation(conversationId: string): Promise<void> {\n    try {\n      await api.post(\n        `${this.CONVERSATIONS_ENDPOINT}/${conversationId}/archive/`\n      );\n    } catch (error: any) {\n      console.error(\"Error archiving conversation:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to archive conversation\"\n      );\n    }\n  }\n\n  /**\n   * Search users to start a conversation\n   * GET /api/users/search/?q={query}\n   */\n  static async searchUsers(query: string): Promise<User[]> {\n    try {\n      const response = await api.get(`/accounts/users/`, {\n        params: { search: query },\n      });\n      return response.data.results || response.data;\n    } catch (error: any) {\n      console.error(\"Error searching users:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to search users\"\n      );\n    }\n  }\n\n  /**\n   * Get conversation by ID\n   * GET /api/conversations/{id}/\n   */\n  static async getConversation(conversationId: string): Promise<Conversation> {\n    try {\n      const response = await api.get(\n        `${this.CONVERSATIONS_ENDPOINT}/${conversationId}/`\n      );\n      return response.data;\n    } catch (error: any) {\n      console.error(\"Error fetching conversation:\", error);\n      throw new Error(\n        error.response?.data?.message ||\n          error.response?.data?.error ||\n          \"Failed to fetch conversation\"\n      );\n    }\n  }\n}\n\nexport default ChatApi;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2593, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Features/chatSlice.ts"],"sourcesContent":["\"use client\";\nimport { createSlice, createAsyncThunk, PayloadAction } from \"@reduxjs/toolkit\";\nimport ChatApi from \"@/services/chatApi\";\nimport {\n  ChatState,\n  Conversation,\n  Message,\n  SendMessagePayload,\n} from \"@/types/chat.types\";\n\nconst initialState: ChatState = {\n  conversations: [],\n  currentConversation: null,\n  messages: {},\n  loading: false,\n  sending: false,\n  error: null,\n  typingUsers: {},\n};\n\n// Async Thunks\n\n/**\n * Fetch all conversations for the current user\n */\nexport const fetchConversations = createAsyncThunk<\n  Conversation[],\n  void,\n  { rejectValue: string }\n>(\"chat/fetchConversations\", async (_, { rejectWithValue }) => {\n  try {\n    const conversations = await ChatApi.getConversations();\n    return conversations;\n  } catch (error: any) {\n    return rejectWithValue(error.message || \"Failed to fetch conversations\");\n  }\n});\n\n/**\n * Get or create a conversation with a specific user\n */\nexport const getOrCreateConversation = createAsyncThunk<\n  Conversation,\n  string,\n  { rejectValue: string }\n>(\"chat/getOrCreateConversation\", async (participantId, { rejectWithValue }) => {\n  try {\n    const conversation = await ChatApi.getOrCreateConversation(participantId);\n    return conversation;\n  } catch (error: any) {\n    return rejectWithValue(error.message || \"Failed to create conversation\");\n  }\n});\n\n/**\n * Fetch messages for a specific conversation\n */\nexport const fetchMessages = createAsyncThunk<\n  { conversationId: string; messages: Message[] },\n  string,\n  { rejectValue: string }\n>(\"chat/fetchMessages\", async (conversationId, { rejectWithValue }) => {\n  try {\n    const messages = await ChatApi.getMessages(conversationId);\n    return { conversationId, messages };\n  } catch (error: any) {\n    return rejectWithValue(error.message || \"Failed to fetch messages\");\n  }\n});\n\n/**\n * Send a new message\n */\nexport const sendMessage = createAsyncThunk<\n  Message,\n  SendMessagePayload,\n  { rejectValue: string }\n>(\"chat/sendMessage\", async (payload, { rejectWithValue }) => {\n  try {\n    const messageData = {\n      conversation_id: payload.conversationId,\n      recipient_id: payload.recipientId,\n      content: payload.content,\n      message_type: payload.messageType || \"text\",\n      attachment_url: payload.attachmentUrl,\n    };\n    const message = await ChatApi.sendMessage(messageData);\n    return message;\n  } catch (error: any) {\n    return rejectWithValue(error.message || \"Failed to send message\");\n  }\n});\n\n/**\n * Mark messages as read\n */\nexport const markMessagesAsRead = createAsyncThunk<\n  string,\n  string,\n  { rejectValue: string }\n>(\"chat/markMessagesAsRead\", async (conversationId, { rejectWithValue }) => {\n  try {\n    await ChatApi.markMessagesAsRead(conversationId);\n    return conversationId;\n  } catch (error: any) {\n    return rejectWithValue(error.message || \"Failed to mark messages as read\");\n  }\n});\n\n/**\n * Archive a conversation\n */\nexport const archiveConversation = createAsyncThunk<\n  string,\n  string,\n  { rejectValue: string }\n>(\"chat/archiveConversation\", async (conversationId, { rejectWithValue }) => {\n  try {\n    await ChatApi.archiveConversation(conversationId);\n    return conversationId;\n  } catch (error: any) {\n    return rejectWithValue(error.message || \"Failed to archive conversation\");\n  }\n});\n\n// Slice\nconst chatSlice = createSlice({\n  name: \"chat\",\n  initialState,\n  reducers: {\n    setCurrentConversation: (state, action: PayloadAction<Conversation | null>) => {\n      state.currentConversation = action.payload;\n    },\n    addMessage: (state, action: PayloadAction<Message>) => {\n      const message = action.payload;\n      const conversationId = message.conversation_id;\n      \n      if (!state.messages[conversationId]) {\n        state.messages[conversationId] = [];\n      }\n      \n      // Avoid duplicates\n      const exists = state.messages[conversationId].some(m => m.id === message.id);\n      if (!exists) {\n        state.messages[conversationId].push(message);\n      }\n      \n      // Update last message in conversations\n      const conversation = state.conversations.find(c => c.id === conversationId);\n      if (conversation) {\n        conversation.last_message = message;\n        conversation.updated_at = message.created_at;\n      }\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n    setTypingIndicator: (\n      state,\n      action: PayloadAction<{ conversationId: string; userId: string; isTyping: boolean }>\n    ) => {\n      const { conversationId, userId, isTyping } = action.payload;\n      \n      if (!state.typingUsers[conversationId]) {\n        state.typingUsers[conversationId] = [];\n      }\n      \n      if (isTyping) {\n        if (!state.typingUsers[conversationId].includes(userId)) {\n          state.typingUsers[conversationId].push(userId);\n        }\n      } else {\n        state.typingUsers[conversationId] = state.typingUsers[conversationId].filter(\n          id => id !== userId\n        );\n      }\n    },\n    incrementUnreadCount: (state, action: PayloadAction<string>) => {\n      const conversationId = action.payload;\n      const conversation = state.conversations.find(c => c.id === conversationId);\n      if (conversation) {\n        conversation.unread_count += 1;\n      }\n    },\n    resetChatState: () => initialState,\n  },\n  extraReducers: (builder) => {\n    // Fetch Conversations\n    builder\n      .addCase(fetchConversations.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchConversations.fulfilled, (state, action) => {\n        state.loading = false;\n        state.conversations = action.payload;\n      })\n      .addCase(fetchConversations.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload || \"Failed to fetch conversations\";\n      });\n\n    // Get or Create Conversation\n    builder\n      .addCase(getOrCreateConversation.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(getOrCreateConversation.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentConversation = action.payload;\n        \n        // Add to conversations if not already there\n        const exists = state.conversations.some(c => c.id === action.payload.id);\n        if (!exists) {\n          state.conversations.unshift(action.payload);\n        }\n      })\n      .addCase(getOrCreateConversation.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload || \"Failed to create conversation\";\n      });\n\n    // Fetch Messages\n    builder\n      .addCase(fetchMessages.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchMessages.fulfilled, (state, action) => {\n        state.loading = false;\n        const { conversationId, messages } = action.payload;\n        state.messages[conversationId] = messages;\n      })\n      .addCase(fetchMessages.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.payload || \"Failed to fetch messages\";\n      });\n\n    // Send Message\n    builder\n      .addCase(sendMessage.pending, (state) => {\n        state.sending = true;\n        state.error = null;\n      })\n      .addCase(sendMessage.fulfilled, (state, action) => {\n        state.sending = false;\n        const message = action.payload;\n        const conversationId = message.conversation_id;\n        \n        if (!state.messages[conversationId]) {\n          state.messages[conversationId] = [];\n        }\n        \n        state.messages[conversationId].push(message);\n        \n        // Update conversation last message\n        const conversation = state.conversations.find(c => c.id === conversationId);\n        if (conversation) {\n          conversation.last_message = message;\n          conversation.updated_at = message.created_at;\n          \n          // Move to top\n          state.conversations = [\n            conversation,\n            ...state.conversations.filter(c => c.id !== conversationId),\n          ];\n        }\n      })\n      .addCase(sendMessage.rejected, (state, action) => {\n        state.sending = false;\n        state.error = action.payload || \"Failed to send message\";\n      });\n\n    // Mark Messages as Read\n    builder\n      .addCase(markMessagesAsRead.fulfilled, (state, action) => {\n        const conversationId = action.payload;\n        const conversation = state.conversations.find(c => c.id === conversationId);\n        if (conversation) {\n          conversation.unread_count = 0;\n        }\n        \n        // Mark all messages as read\n        if (state.messages[conversationId]) {\n          state.messages[conversationId] = state.messages[conversationId].map(m => ({\n            ...m,\n            is_read: true,\n          }));\n        }\n      });\n\n    // Archive Conversation\n    builder\n      .addCase(archiveConversation.fulfilled, (state, action) => {\n        const conversationId = action.payload;\n        state.conversations = state.conversations.filter(c => c.id !== conversationId);\n        \n        if (state.currentConversation?.id === conversationId) {\n          state.currentConversation = null;\n        }\n      });\n  },\n});\n\nexport const {\n  setCurrentConversation,\n  addMessage,\n  clearError,\n  setTypingIndicator,\n  incrementUnreadCount,\n  resetChatState,\n} = chatSlice.actions;\n\nexport default chatSlice.reducer;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2845, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/middleware/authMiddleware.tsx"],"sourcesContent":["import { Middleware, isAnyOf } from \"@reduxjs/toolkit\";\nimport { logout } from \"../Features/authSlice\";\nimport { toast } from \"sonner\";\n\nexport const authMiddleware: Middleware = () => (next) => (action) => {\n  if (isAnyOf(logout)(action)) {\n    toast.success(\"You have been logged out successfully \");\n  }\n  return next(action);\n};\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,MAAM,iBAA6B,IAAM,CAAC,OAAS,CAAC;YACzD,IAAI,IAAA,yMAAO,EAAC,kJAAM,EAAE,SAAS;gBAC3B,oJAAK,CAAC,OAAO,CAAC;YAChB;YACA,OAAO,KAAK;QACd"}},
    {"offset": {"line": 2868, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Store/Store.tsx"],"sourcesContent":["import { configureStore } from \"@reduxjs/toolkit\";\n\nimport searchSlice from \"../Features/SearchSlice\";\nimport sidebarSlice from \"../Features/SidebarSlice\";\nimport applyJobSlice from \"../Features/ApplyJobSlice\";\nimport adminSidebarSlice from \"../Features/AdminSIdebarSlice\";\nimport moreJobDescriptionSlice from \"../Features/JobDescriptionSlice\";\nimport authSlice from \"../Features/authSlice\";\nimport workerSlice from \"../Features/WorkersSlice\";\nimport categoriesSlice from \"../Features/jobs/jobsCategories/jobCategories\";\nimport profileSlice from \"../Features/profileSlice\";\nimport jobsSlice from \"../Features/jobsSlice\";\nimport jobEmployerSlice from \"../Features/jobs/jobEmployerSlice\";\nimport employerProfilesSlice from \"../Features/employerProfilesSlice\";\nimport workerProfilesSlice from \"../Features/workerProfilesSlice\";\nimport chatSlice from \"../Features/chatSlice\";\n\nimport { authMiddleware } from \"../middleware/authMiddleware\";\n\nexport const store = configureStore({\n  reducer: {\n    search: searchSlice.reducer,\n    sidebar: sidebarSlice.reducer,\n    applyJob: applyJobSlice.reducer,\n    adminSidebar: adminSidebarSlice.reducer,\n    moreDescription: moreJobDescriptionSlice.reducer,\n    auth: authSlice.reducer,\n    worker: workerSlice.reducer,\n    categories: categoriesSlice.reducer,\n    profile: profileSlice.reducer,\n    jobs: jobsSlice.reducer,\n    jobEmployer: jobEmployerSlice.reducer,\n    employerProfiles: employerProfilesSlice.reducer,\n    workerProfiles: workerProfilesSlice.reducer,\n    chat: chatSlice,\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(authMiddleware),\n  devTools: process.env.NODE_ENV !== \"production\",\n});\n\n//  Inferred types\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n"],"names":[],"mappings":";;;;;;AAsCY;AAtCZ;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;;;;;;AAEO,MAAM,QAAQ,IAAA,gNAAc,EAAC;IAClC,SAAS;QACP,QAAQ,qJAAW,CAAC,OAAO;QAC3B,SAAS,sJAAY,CAAC,OAAO;QAC7B,UAAU,uJAAa,CAAC,OAAO;QAC/B,cAAc,2JAAiB,CAAC,OAAO;QACvC,iBAAiB,6JAAuB,CAAC,OAAO;QAChD,MAAM,mJAAS,CAAC,OAAO;QACvB,QAAQ,sJAAW,CAAC,OAAO;QAC3B,YAAY,iLAAe,CAAC,OAAO;QACnC,SAAS,sJAAY,CAAC,OAAO;QAC7B,MAAM,mJAAS,CAAC,OAAO;QACvB,aAAa,kKAAgB,CAAC,OAAO;QACrC,kBAAkB,+JAAqB,CAAC,OAAO;QAC/C,gBAAgB,6JAAmB,CAAC,OAAO;QAC3C,MAAM,mJAAS;IACjB;IACA,YAAY,CAAC,uBACX,uBAAuB,MAAM,CAAC,kKAAc;IAC9C,UAAU,oDAAyB;AACrC;uCAMe"}},
    {"offset": {"line": 2935, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/app/providers/Providers.tsx"],"sourcesContent":["\"use client\";\nimport { Provider } from \"react-redux\";\nimport React, { useEffect } from \"react\";\nimport { store } from \"@/Redux/Store/Store\";\nimport { loadSession } from \"@/Redux/Features/authSlice\";\nimport { fetchUserWorkerProfile } from \"@/Redux/Features/workerProfilesSlice\";\nimport { Toaster } from \"sonner\";\n\nfunction AuthInitializer({ children }: { children: React.ReactNode }) {\n  useEffect(() => {\n    // Initialize auth state from sessionStorage on app load\n    store.dispatch(loadSession());\n\n    // After loading session, check if user has worker profile\n    const state = store.getState();\n    if (state.auth.isAuthenticated && state.auth.userId) {\n      // Fetch user's worker profile if authenticated\n      store.dispatch(fetchUserWorkerProfile(state.auth.userId));\n    }\n  }, []);\n\n  return <>{children}</>;\n}\n\nexport function Providers({ children }: { children: React.ReactNode }) {\n  return (\n    <Provider store={store}>\n      <AuthInitializer>\n        <Toaster position=\"top-right\" richColors />\n        {children}\n      </AuthInitializer>\n    </Provider>\n  );\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AACA;AACA;;;AANA;;;;;;;AAQA,SAAS,gBAAgB,EAAE,QAAQ,EAAiC;;IAClE,IAAA,0KAAS;qCAAC;YACR,wDAAwD;YACxD,2IAAK,CAAC,QAAQ,CAAC,IAAA,uJAAW;YAE1B,0DAA0D;YAC1D,MAAM,QAAQ,2IAAK,CAAC,QAAQ;YAC5B,IAAI,MAAM,IAAI,CAAC,eAAe,IAAI,MAAM,IAAI,CAAC,MAAM,EAAE;gBACnD,+CAA+C;gBAC/C,2IAAK,CAAC,QAAQ,CAAC,IAAA,4KAAsB,EAAC,MAAM,IAAI,CAAC,MAAM;YACzD;QACF;oCAAG,EAAE;IAEL,qBAAO;kBAAG;;AACZ;GAdS;KAAA;AAgBF,SAAS,UAAU,EAAE,QAAQ,EAAiC;IACnE,qBACE,6LAAC,wKAAQ;QAAC,OAAO,2IAAK;kBACpB,cAAA,6LAAC;;8BACC,6LAAC,sJAAO;oBAAC,UAAS;oBAAY,UAAU;;;;;;gBACvC;;;;;;;;;;;;AAIT;MATgB"}},
    {"offset": {"line": 3012, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/component/SearchModal/SearchModal.tsx"],"sourcesContent":["\"use client\";\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport { X } from \"lucide-react\";\n\nimport { toggleSearch } from \"@/Redux/Features/SearchSlice\";\n\nimport { AppDispatch } from \"@/Redux/Store/Store\";\n\nimport { useDispatch } from \"react-redux\";\n\nconst jobList = [\n  \"Cleaning & House Help\",\n  \"Driving & Delivery\",\n  \"Construction Work\",\n  \"Shop Attendant\",\n  \"Farm Work\",\n  \"Cooking & Kitchen Help\",\n  \"Security Guard\",\n  \"Laundry & Dry Cleaning\",\n];\n\n// Throttle function\nconst throttle = (func: (...args: any[]) => void, delay: number) => {\n  let lastCall = 0;\n  return (...args: any[]) => {\n    const now = new Date().getTime();\n    if (now - lastCall >= delay) {\n      lastCall = now;\n      func(...args);\n    }\n  };\n};\n\nconst SearchModal = () => {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [filteredJobs, setFilteredJobs] = useState<string[]>(jobList);\n\n  const throttledSearch = useMemo(\n    () =>\n      throttle((term: string) => {\n        const results = jobList.filter((job) =>\n          job.toLowerCase().includes(term.toLowerCase()),\n        );\n        setFilteredJobs(results);\n      }, 500), // 500ms throttle delay\n    [],\n  );\n\n  useEffect(() => {\n    throttledSearch(searchTerm);\n  }, [searchTerm, throttledSearch]);\n\n  const dispatch = useDispatch<AppDispatch>();\n\n  const onClose = () => {\n    dispatch(toggleSearch());\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black/40 z-40 flex items-center justify-center pt-20 px-4 sm:px-0\">\n      <div className=\"bg-white w-full max-w-7xl rounded shadow-lg relative z-50\">\n        {/* Close Button */}\n        <div className=\"flex justify-end p-4\">\n          <button\n            onClick={onClose}\n            className=\"text-gray-600 hover:text-red-600 transition\"\n            aria-label=\"Close search modal\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        </div>\n\n        {/* Search Header */}\n        <div className=\"px-6 pb-4\">\n          <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">\n            Search Jobs\n          </h2>\n          <input\n            type=\"text\"\n            placeholder=\"e.g. plumber, writer, designer...\"\n            value={searchTerm}\n            onChange={(e) => setSearchTerm(e.target.value)}\n            className=\"w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-600\"\n          />\n        </div>\n\n        {/* Search Results */}\n        <div className=\"px-6 pb-6 max-h-72 overflow-y-auto\">\n          {filteredJobs.length > 0 ? (\n            <ul className=\"space-y-2 text-sm\">\n              {filteredJobs.map((job, idx) => (\n                <li\n                  key={idx}\n                  className=\"bg-gray-100 p-3 rounded hover:bg-gray-200 transition cursor-pointer\"\n                >\n                  {job}\n                </li>\n              ))}\n            </ul>\n          ) : (\n            <p className=\"text-gray-500 text-sm\">No jobs found.</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SearchModal;\n"],"names":[],"mappings":";;;;;AACA;AACA;AAEA;AAIA;;;AARA;;;;;AAUA,MAAM,UAAU;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,oBAAoB;AACpB,MAAM,WAAW,CAAC,MAAgC;IAChD,IAAI,WAAW;IACf,OAAO,CAAC,GAAG;QACT,MAAM,MAAM,IAAI,OAAO,OAAO;QAC9B,IAAI,MAAM,YAAY,OAAO;YAC3B,WAAW;YACX,QAAQ;QACV;IACF;AACF;AAEA,MAAM,cAAc;;IAClB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yKAAQ,EAAW;IAE3D,MAAM,kBAAkB,IAAA,wKAAO;gDAC7B,IACE;wDAAS,CAAC;oBACR,MAAM,UAAU,QAAQ,MAAM;wEAAC,CAAC,MAC9B,IAAI,WAAW,GAAG,QAAQ,CAAC,KAAK,WAAW;;oBAE7C,gBAAgB;gBAClB;uDAAG;+CACL,EAAE;IAGJ,IAAA,0KAAS;iCAAC;YACR,gBAAgB;QAClB;gCAAG;QAAC;QAAY;KAAgB;IAEhC,MAAM,WAAW,IAAA,2KAAW;IAE5B,MAAM,UAAU;QACd,SAAS,IAAA,0JAAY;IACvB;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;8BACb,cAAA,6LAAC;wBACC,SAAS;wBACT,WAAU;wBACV,cAAW;kCAEX,cAAA,6LAAC,oMAAC;4BAAC,WAAU;;;;;;;;;;;;;;;;8BAKjB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCAGzD,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;4BAC7C,WAAU;;;;;;;;;;;;8BAKd,6LAAC;oBAAI,WAAU;8BACZ,aAAa,MAAM,GAAG,kBACrB,6LAAC;wBAAG,WAAU;kCACX,aAAa,GAAG,CAAC,CAAC,KAAK,oBACtB,6LAAC;gCAEC,WAAU;0CAET;+BAHI;;;;;;;;;iFAQX,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;;;;;;;;;;;AAMjD;GAzEM;;QAmBa,2KAAW;;;KAnBxB;uCA2ES"}},
    {"offset": {"line": 3188, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/customLayouts/Preloader/Preloader.tsx"],"sourcesContent":["import { motion } from \"framer-motion\";\n\nexport const Preloader = () => (\n  <div className=\"fixed inset-0 flex flex-col items-center justify-center bg-white z-50 space-y-4\">\n    <motion.svg\n      className=\"w-12 h-12 text-[#800000]\"\n      viewBox=\"0 0 50 50\"\n      initial={{ rotate: 0 }}\n      animate={{ rotate: 360 }}\n      transition={{ repeat: Infinity, duration: 1.5, ease: \"linear\" }}\n      aria-label=\"Loading spinner\"\n    >\n      <circle\n        className=\"opacity-25\"\n        cx=\"25\"\n        cy=\"25\"\n        r=\"20\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n        fill=\"none\"\n      />\n      <motion.circle\n        cx=\"25\"\n        cy=\"25\"\n        r=\"20\"\n        stroke=\"currentColor\"\n        strokeWidth=\"4\"\n        strokeLinecap=\"round\"\n        fill=\"none\"\n        strokeDasharray=\"90 150\"\n        strokeDashoffset=\"0\"\n        animate={{ strokeDashoffset: [0, -220] }}\n        transition={{ repeat: Infinity, duration: 1.5, ease: \"easeInOut\" }}\n      />\n    </motion.svg>\n\n    <motion.h1\n      className=\"text-2xl font-bold text-[#800000] tracking-wide select-none\"\n      initial={{ opacity: 0, y: 10 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ delay: 0.3, duration: 0.6, ease: \"easeOut\" }}\n    >\n      kazibuddy\n    </motion.h1>\n  </div>\n);\n"],"names":[],"mappings":";;;;;AAAA;;;AAEO,MAAM,YAAY,kBACvB,6LAAC;QAAI,WAAU;;0BACb,6LAAC,uMAAM,CAAC,GAAG;gBACT,WAAU;gBACV,SAAQ;gBACR,SAAS;oBAAE,QAAQ;gBAAE;gBACrB,SAAS;oBAAE,QAAQ;gBAAI;gBACvB,YAAY;oBAAE,QAAQ;oBAAU,UAAU;oBAAK,MAAM;gBAAS;gBAC9D,cAAW;;kCAEX,6LAAC;wBACC,WAAU;wBACV,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;wBACZ,MAAK;;;;;;kCAEP,6LAAC,uMAAM,CAAC,MAAM;wBACZ,IAAG;wBACH,IAAG;wBACH,GAAE;wBACF,QAAO;wBACP,aAAY;wBACZ,eAAc;wBACd,MAAK;wBACL,iBAAgB;wBAChB,kBAAiB;wBACjB,SAAS;4BAAE,kBAAkB;gCAAC;gCAAG,CAAC;6BAAI;wBAAC;wBACvC,YAAY;4BAAE,QAAQ;4BAAU,UAAU;4BAAK,MAAM;wBAAY;;;;;;;;;;;;0BAIrE,6LAAC,uMAAM,CAAC,EAAE;gBACR,WAAU;gBACV,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAG;gBAC7B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,YAAY;oBAAE,OAAO;oBAAK,UAAU;oBAAK,MAAM;gBAAU;0BAC1D;;;;;;;;;;;;KAvCQ"}},
    {"offset": {"line": 3297, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/customLayouts/MainLayoutWrapper/MainLayoutWrapper.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { usePathname } from \"next/navigation\";\n\nimport NProgress from \"nprogress\";\nimport \"@/styles/nprogress.css\";\n\nimport SearchModal from \"@/component/SearchModal/SearchModal\";\nimport { RootState } from \"@/Redux/Store/Store\";\nimport { Preloader } from \"../Preloader/Preloader\";\n\nimport { Toaster } from \"sonner\";\n\nimport AuthWatcher from \"@/Redux/middleware/AuthWatcher\";\n\nconst MainLayoutWrapper = ({ children }: { children: React.ReactNode }) => {\n  const isShown = useSelector((state: RootState) => state.search.isShown);\n  const [loading, setLoading] = useState(true);\n  const pathname = usePathname();\n\n  useEffect(() => {\n    NProgress.start();\n    setLoading(true);\n\n    const timer = setTimeout(() => {\n      setLoading(false);\n      NProgress.done();\n    }, 300);\n\n    return () => clearTimeout(timer);\n  }, [pathname]);\n\n  return (\n    <div>\n      {/* <AuthWatcher /> */}\n      {loading ? <Preloader /> : children}\n      {isShown && <SearchModal />}\n      <Toaster position=\"top-right\" richColors closeButton />\n    </div>\n  );\n};\n\nexport default MainLayoutWrapper;\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AAGA;AAEA;AAEA;;;AAbA;;;;;;;;;AAiBA,MAAM,oBAAoB,CAAC,EAAE,QAAQ,EAAiC;;IACpE,MAAM,UAAU,IAAA,2KAAW;kDAAC,CAAC,QAAqB,MAAM,MAAM,CAAC,OAAO;;IACtE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,WAAW,IAAA,oJAAW;IAE5B,IAAA,0KAAS;uCAAC;YACR,oJAAS,CAAC,KAAK;YACf,WAAW;YAEX,MAAM,QAAQ;qDAAW;oBACvB,WAAW;oBACX,oJAAS,CAAC,IAAI;gBAChB;oDAAG;YAEH;+CAAO,IAAM,aAAa;;QAC5B;sCAAG;QAAC;KAAS;IAEb,qBACE,6LAAC;;YAEE,wBAAU,6LAAC,+JAAS;;;;2DAAM;YAC1B,yBAAW,6LAAC,6JAAW;;;;;0BACxB,6LAAC,sJAAO;gBAAC,UAAS;gBAAY,UAAU;gBAAC,WAAW;;;;;;;;;;;;AAG1D;GAzBM;;QACY,2KAAW;QAEV,oJAAW;;;KAHxB;uCA2BS"}},
    {"offset": {"line": 3389, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/Redux/Functions/jobs.ts"],"sourcesContent":["\"use client\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { AppDispatch, RootState } from \"../Store/Store\";\nimport {\n  openJobModal,\n  closeJobModal,\n  setCoverLetter,\n  setProposedRate,\n  setAvailabilityStart,\n  setWorkerNotes,\n  updateFormData,\n  resetForm,\n  clearForm,\n  setFormErrors,\n  clearFormErrors,\n  setSuccessMessage,\n  setApiError,\n  clearMessages,\n  updateApplicationStatus,\n  setPagination,\n  applyForJob,\n  fetchMyApplications,\n  fetchApplicationDetails,\n  fetchJobApplications,\n  updateApplication,\n  deleteApplication,\n  fetchApplicationStats,\n} from \"../Features/ApplyJobSlice\";\nimport {\n  JobApplicationRequest,\n  ApplicationStatus,\n  ApplicationQueryParams,\n} from \"../../types/jobApplication.types\";\nimport { useCallback, useEffect } from \"react\";\n\n// Job Application Modal Hook\nexport const useJobApplicationModal = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const {\n    isModalOpen,\n    formData,\n    errors,\n    isSubmitting,\n    apiError,\n    successMessage,\n  } = useSelector((state: RootState) => ({\n    isModalOpen: state.applyJob.isModalOpen,\n    formData: state.applyJob.formData,\n    errors: state.applyJob.errors,\n    isSubmitting: state.applyJob.isSubmitting,\n    apiError: state.applyJob.apiError,\n    successMessage: state.applyJob.successMessage,\n  }));\n\n  const showJobModal = useCallback(() => {\n    dispatch(openJobModal());\n  }, [dispatch]);\n\n  const hideJobModal = useCallback(() => {\n    dispatch(closeJobModal());\n  }, [dispatch]);\n\n  const updateForm = useCallback(\n    (data: Partial<JobApplicationRequest>) => {\n      dispatch(updateFormData(data));\n    },\n    [dispatch],\n  );\n\n  const resetFormData = useCallback(() => {\n    dispatch(resetForm());\n  }, [dispatch]);\n\n  const clearFormData = useCallback(() => {\n    dispatch(clearForm());\n  }, [dispatch]);\n\n  return {\n    isModalOpen,\n    formData,\n    errors,\n    isSubmitting,\n    apiError,\n    successMessage,\n    showJobModal,\n    hideJobModal,\n    updateForm,\n    resetFormData,\n    clearFormData,\n  };\n};\n\n// Job Application Form Hook\nexport const useJobApplicationForm = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { formData, errors, isSubmitting } = useSelector(\n    (state: RootState) => ({\n      formData: state.applyJob.formData,\n      errors: state.applyJob.errors,\n      isSubmitting: state.applyJob.isSubmitting,\n    }),\n  );\n\n  const setCoverLetterValue = useCallback(\n    (value: string) => {\n      dispatch(setCoverLetter(value));\n    },\n    [dispatch],\n  );\n\n  const setProposedRateValue = useCallback(\n    (value: number) => {\n      dispatch(setProposedRate(value));\n    },\n    [dispatch],\n  );\n\n  const setAvailabilityStartValue = useCallback(\n    (value: string) => {\n      dispatch(setAvailabilityStart(value));\n    },\n    [dispatch],\n  );\n\n  const setWorkerNotesValue = useCallback(\n    (value: string) => {\n      dispatch(setWorkerNotes(value));\n    },\n    [dispatch],\n  );\n\n  const setErrors = useCallback(\n    (errors: any) => {\n      dispatch(setFormErrors(errors));\n    },\n    [dispatch],\n  );\n\n  const clearErrors = useCallback(() => {\n    dispatch(clearFormErrors());\n  }, [dispatch]);\n\n  const submitApplication = useCallback(\n    async (jobId: string) => {\n      try {\n        await dispatch(\n          applyForJob({ jobId, applicationData: formData }),\n        ).unwrap();\n        return { success: true };\n      } catch (error: any) {\n        return { success: false, error: error.message };\n      }\n    },\n    [dispatch, formData],\n  );\n\n  return {\n    formData,\n    errors,\n    isSubmitting,\n    setCoverLetterValue,\n    setProposedRateValue,\n    setAvailabilityStartValue,\n    setWorkerNotesValue,\n    setErrors,\n    clearErrors,\n    submitApplication,\n  };\n};\n\n// My Applications Hook\nexport const useMyApplications = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { myApplications, isLoading, apiError, pagination } = useSelector(\n    (state: RootState) => ({\n      myApplications: state.applyJob.myApplications,\n      isLoading: state.applyJob.isLoading,\n      apiError: state.applyJob.apiError,\n      pagination: state.applyJob.pagination,\n    }),\n  );\n\n  const fetchApplications = useCallback(\n    (params?: ApplicationQueryParams) => {\n      dispatch(fetchMyApplications({ ...params, per_page: 1000 }));\n    },\n    [dispatch],\n  );\n\n  const updateApplicationById = useCallback(\n    (applicationId: string, updateData: any) => {\n      return dispatch(updateApplication({ applicationId, updateData }));\n    },\n    [dispatch],\n  );\n\n  const deleteApplicationById = useCallback(\n    (applicationId: string) => {\n      return dispatch(deleteApplication(applicationId));\n    },\n    [dispatch],\n  );\n\n  // Auto-fetch on mount\n  useEffect(() => {\n    fetchApplications();\n  }, [fetchApplications]);\n\n  return {\n    applications: myApplications,\n    isLoading,\n    apiError,\n    pagination,\n    fetchApplications,\n    updateApplicationById,\n    deleteApplicationById,\n  };\n};\n\n// Job Applications (for employers) Hook\nexport const useJobApplications = (jobId?: string) => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { jobApplications, isLoading, apiError, stats } = useSelector(\n    (state: RootState) => ({\n      jobApplications: state.applyJob.jobApplications,\n      isLoading: state.applyJob.isLoading,\n      apiError: state.applyJob.apiError,\n      stats: state.applyJob.stats,\n    }),\n  );\n\n  const fetchApplications = useCallback(\n    (params?: ApplicationQueryParams) => {\n      if (jobId) {\n        dispatch(fetchJobApplications({ jobId, params: { ...params, per_page: 1000 } }));\n      }\n    },\n    [dispatch, jobId],\n  );\n\n  const fetchStats = useCallback(() => {\n    if (jobId) {\n      dispatch(fetchApplicationStats(jobId));\n    }\n  }, [dispatch, jobId]);\n\n  const updateApplicationStatus = useCallback(\n    (applicationId: string, status: ApplicationStatus) => {\n      return dispatch(\n        updateApplication({\n          applicationId,\n          updateData: { status },\n        }),\n      );\n    },\n    [dispatch],\n  );\n\n  // Auto-fetch on mount and when jobId changes\n  useEffect(() => {\n    if (jobId) {\n      fetchApplications();\n      fetchStats();\n    }\n  }, [fetchApplications, fetchStats, jobId]);\n\n  return {\n    applications: jobApplications,\n    isLoading,\n    apiError,\n    stats,\n    fetchApplications,\n    fetchStats,\n    updateApplicationStatus,\n  };\n};\n\n// Single Application Details Hook\nexport const useApplicationDetails = (applicationId?: string) => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { currentApplication, isLoading, apiError } = useSelector(\n    (state: RootState) => ({\n      currentApplication: state.applyJob.currentApplication,\n      isLoading: state.applyJob.isLoading,\n      apiError: state.applyJob.apiError,\n    }),\n  );\n\n  const fetchDetails = useCallback(() => {\n    if (applicationId) {\n      dispatch(fetchApplicationDetails(applicationId));\n    }\n  }, [dispatch, applicationId]);\n\n  const updateDetails = useCallback(\n    (updateData: any) => {\n      if (applicationId) {\n        return dispatch(updateApplication({ applicationId, updateData }));\n      }\n    },\n    [dispatch, applicationId],\n  );\n\n  // Auto-fetch on mount and when applicationId changes\n  useEffect(() => {\n    fetchDetails();\n  }, [fetchDetails]);\n\n  return {\n    application: currentApplication,\n    isLoading,\n    apiError,\n    fetchDetails,\n    updateDetails,\n  };\n};\n\n// Messages Hook\nexport const useApplicationMessages = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { successMessage, apiError } = useSelector((state: RootState) => ({\n    successMessage: state.applyJob.successMessage,\n    apiError: state.applyJob.apiError,\n  }));\n\n  const setSuccess = useCallback(\n    (message: string) => {\n      dispatch(setSuccessMessage(message));\n    },\n    [dispatch],\n  );\n\n  const setError = useCallback(\n    (message: string) => {\n      dispatch(setApiError(message));\n    },\n    [dispatch],\n  );\n\n  const clearAllMessages = useCallback(() => {\n    dispatch(clearMessages());\n  }, [dispatch]);\n\n  return {\n    successMessage,\n    apiError,\n    setSuccess,\n    setError,\n    clearAllMessages,\n  };\n};\n\n// Legacy hook for backward compatibility\nexport const useShowJobModal = () => {\n  const { isModalOpen, showJobModal, hideJobModal } = useJobApplicationModal();\n  return { isModalOpen, showJobModal, hideJobModal };\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3833, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/components/JobApplication/JobApplicationForm.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { JobDetails } from \"../../types/jobApplication.types\";\nimport {\n  useJobApplicationForm,\n  useApplicationMessages,\n} from \"../../Redux/Functions/jobs\";\nimport JobApplicationApi from \"../../services/jobApplicationApi\";\nimport { toast } from \"sonner\";\n\ninterface JobApplicationFormProps {\n  jobDetails: JobDetails;\n  onSuccess?: () => void;\n  onCancel?: () => void;\n  className?: string;\n}\n\nexport const JobApplicationForm: React.FC<JobApplicationFormProps> = ({\n  jobDetails,\n  onSuccess,\n  onCancel,\n  className = \"\",\n}) => {\n  const {\n    formData,\n    errors,\n    isSubmitting,\n    setCoverLetterValue,\n    setProposedRateValue,\n    setAvailabilityStartValue,\n    setWorkerNotesValue,\n    setErrors,\n    clearErrors,\n    submitApplication,\n  } = useJobApplicationForm();\n\n  const { clearAllMessages } = useApplicationMessages();\n\n  const [localErrors, setLocalErrors] = useState<Record<string, string>>({});\n  const [hasApplied, setHasApplied] = useState(false);\n\n  // Clear any previous messages when component mounts\n  useEffect(() => {\n    clearAllMessages();\n  }, [clearAllMessages]);\n\n  // Check if user has already applied\n  useEffect(() => {\n    const checkApplicationStatus = async () => {\n      try {\n        const hasUserApplied = await JobApplicationApi.hasUserApplied(\n          jobDetails.id,\n        );\n        setHasApplied(hasUserApplied);\n      } catch (error) {\n        console.error(\"Error checking application status:\", error);\n      }\n    };\n\n    checkApplicationStatus();\n  }, [jobDetails.id]);\n\n  // Set default availability date to job start date\n  useEffect(() => {\n    if (!formData.availability_start && jobDetails.start_date) {\n      setAvailabilityStartValue(jobDetails.start_date);\n    }\n  }, [\n    jobDetails.start_date,\n    formData.availability_start,\n    setAvailabilityStartValue,\n  ]);\n\n  const validateForm = (): boolean => {\n    const validation = JobApplicationApi.validateApplicationData(formData);\n\n    if (!validation.isValid) {\n      setLocalErrors(validation.errors);\n      setErrors({\n        cover_letter: validation.errors.cover_letter\n          ? [validation.errors.cover_letter]\n          : undefined,\n        proposed_rate: validation.errors.proposed_rate\n          ? [validation.errors.proposed_rate]\n          : undefined,\n        availability_start: validation.errors.availability_start\n          ? [validation.errors.availability_start]\n          : undefined,\n        worker_notes: validation.errors.worker_notes\n          ? [validation.errors.worker_notes]\n          : undefined,\n      });\n      return false;\n    }\n\n    setLocalErrors({});\n    clearErrors();\n    return true;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    if (hasApplied) {\n      toast.error(\"You have already applied for this job\");\n      return;\n    }\n\n    if (!validateForm()) {\n      toast.error(\"Please fix the errors in the form\");\n      return;\n    }\n\n    try {\n      const result = await submitApplication(jobDetails.id);\n      if (result.success) {\n        toast.success(\"Application submitted successfully!\");\n        onSuccess?.();\n      } else {\n        toast.error(result.error || \"Failed to submit application\");\n      }\n    } catch (error: any) {\n      toast.error(error.message || \"Failed to submit application\");\n    }\n  };\n\n  const handleCancel = () => {\n    clearErrors();\n    setLocalErrors({});\n    onCancel?.();\n  };\n\n  // Calculate character counts\n  const coverLetterCount = formData.cover_letter?.length || 0;\n  const workerNotesCount = formData.worker_notes?.length || 0;\n\n  if (hasApplied) {\n    return (\n      <div\n        className={`bg-blue-50 border border-blue-200 rounded-lg p-6 ${className}`}\n      >\n        <div className=\"flex items-center\">\n          <div className=\"flex-shrink-0\">\n            <svg\n              className=\"h-5 w-5 text-blue-400\"\n              viewBox=\"0 0 20 20\"\n              fill=\"currentColor\"\n            >\n              <path\n                fillRule=\"evenodd\"\n                d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                clipRule=\"evenodd\"\n              />\n            </svg>\n          </div>\n          <div className=\"ml-3\">\n            <p className=\"text-sm font-medium text-blue-800\">\n              You have already applied for this job\n            </p>\n            <p className=\"text-sm text-blue-600 mt-1\">\n              Check your applications dashboard for updates on your application\n              status.\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className={`space-y-6 ${className}`}>\n      {/* Job Info Header */}\n      <div className=\"bg-gray-50 rounded-lg p-4 border\">\n        <h3 className=\"text-lg font-medium text-gray-900 mb-2\">\n          {jobDetails.title}\n        </h3>\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-gray-600\">\n          <div>\n            <span className=\"font-medium\">Budget:</span> KES{\" \"}\n            {jobDetails.budget_min} - KES {jobDetails.budget_max}\n          </div>\n          <div>\n            <span className=\"font-medium\">Type:</span>{\" \"}\n            {jobDetails.job_type.replace(\"_\", \" \")}\n          </div>\n          <div>\n            <span className=\"font-medium\">Location:</span>{\" \"}\n            {jobDetails.location_text}\n          </div>\n        </div>\n      </div>\n\n      {/* Cover Letter */}\n      <div>\n        <label\n          htmlFor=\"cover_letter\"\n          className=\"block text-sm font-medium text-gray-700 mb-2\"\n        >\n          Cover Letter *\n        </label>\n        <div className=\"relative\">\n          <textarea\n            id=\"cover_letter\"\n            rows={6}\n            value={formData.cover_letter}\n            onChange={(e) => setCoverLetterValue(e.target.value)}\n            className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical ${\n              errors.cover_letter || localErrors.cover_letter\n                ? \"border-red-500 bg-red-50\"\n                : \"border-gray-300\"\n            }`}\n            placeholder=\"Explain why you're the perfect fit for this job. Highlight your relevant experience and skills...\"\n            maxLength={2000}\n          />\n          <div className=\"absolute bottom-2 right-2 text-xs text-gray-500 bg-white px-1\">\n            {coverLetterCount}/2000\n          </div>\n        </div>\n        {(errors.cover_letter || localErrors.cover_letter) && (\n          <p className=\"mt-1 text-sm text-red-600\">\n            {errors.cover_letter?.[0] || localErrors.cover_letter}\n          </p>\n        )}\n        <p className=\"mt-1 text-xs text-gray-500\">\n          Minimum 50 characters. Be specific about your experience and why\n          you're interested in this project.\n        </p>\n      </div>\n\n      {/* Proposed Rate */}\n      <div>\n        <label\n          htmlFor=\"proposed_rate\"\n          className=\"block text-sm font-medium text-gray-700 mb-2\"\n        >\n          Proposed Rate (KES{\" \"}\n          {jobDetails.payment_type === \"hourly\" ? \"per hour\" : \"total\"}) *\n        </label>\n        <div className=\"relative\">\n          <input\n            type=\"number\"\n            id=\"proposed_rate\"\n            min=\"1\"\n            step=\"0.01\"\n            value={formData.proposed_rate || \"\"}\n            onChange={(e) =>\n              setProposedRateValue(parseFloat(e.target.value) || 0)\n            }\n            className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\n              errors.proposed_rate || localErrors.proposed_rate\n                ? \"border-red-500 bg-red-50\"\n                : \"border-gray-300\"\n            }`}\n            placeholder=\"Enter your rate\"\n          />\n        </div>\n        {(errors.proposed_rate || localErrors.proposed_rate) && (\n          <p className=\"mt-1 text-sm text-red-600\">\n            {errors.proposed_rate?.[0] || localErrors.proposed_rate}\n          </p>\n        )}\n        <p className=\"mt-1 text-xs text-gray-500\">\n          Budget range: KES {jobDetails.budget_min} - KES {jobDetails.budget_max}\n        </p>\n      </div>\n\n      {/* Availability Start Date */}\n      <div>\n        <label\n          htmlFor=\"availability_start\"\n          className=\"block text-sm font-medium text-gray-700 mb-2\"\n        >\n          Available to Start *\n        </label>\n        <input\n          type=\"date\"\n          id=\"availability_start\"\n          value={formData.availability_start}\n          onChange={(e) => setAvailabilityStartValue(e.target.value)}\n          min={new Date().toISOString().split(\"T\")[0]}\n          className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${\n            errors.availability_start || localErrors.availability_start\n              ? \"border-red-500 bg-red-50\"\n              : \"border-gray-300\"\n          }`}\n        />\n        {(errors.availability_start || localErrors.availability_start) && (\n          <p className=\"mt-1 text-sm text-red-600\">\n            {errors.availability_start?.[0] || localErrors.availability_start}\n          </p>\n        )}\n        <p className=\"mt-1 text-xs text-gray-500\">\n          Project start date:{\" \"}\n          {new Date(jobDetails.start_date).toLocaleDateString()}\n        </p>\n      </div>\n\n      {/* Worker Notes */}\n      <div>\n        <label\n          htmlFor=\"worker_notes\"\n          className=\"block text-sm font-medium text-gray-700 mb-2\"\n        >\n          Additional Notes\n        </label>\n        <div className=\"relative\">\n          <textarea\n            id=\"worker_notes\"\n            rows={3}\n            value={formData.worker_notes || \"\"}\n            onChange={(e) => setWorkerNotesValue(e.target.value)}\n            className={`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-vertical ${\n              errors.worker_notes || localErrors.worker_notes\n                ? \"border-red-500 bg-red-50\"\n                : \"border-gray-300\"\n            }`}\n            placeholder=\"Any additional information you'd like to share (optional)...\"\n            maxLength={1000}\n          />\n          <div className=\"absolute bottom-2 right-2 text-xs text-gray-500 bg-white px-1\">\n            {workerNotesCount}/1000\n          </div>\n        </div>\n        {(errors.worker_notes || localErrors.worker_notes) && (\n          <p className=\"mt-1 text-sm text-red-600\">\n            {errors.worker_notes?.[0] || localErrors.worker_notes}\n          </p>\n        )}\n        <p className=\"mt-1 text-xs text-gray-500\">\n          Optional: Share any questions or additional details about your\n          approach.\n        </p>\n      </div>\n\n      {/* Action Buttons */}\n      <div className=\"flex flex-col sm:flex-row gap-3 pt-4\">\n        <button\n          type=\"submit\"\n          disabled={isSubmitting}\n          className=\"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n        >\n          {isSubmitting ? (\n            <div className=\"flex items-center justify-center\">\n              <svg\n                className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle\n                  className=\"opacity-25\"\n                  cx=\"12\"\n                  cy=\"12\"\n                  r=\"10\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"4\"\n                ></circle>\n                <path\n                  className=\"opacity-75\"\n                  fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                ></path>\n              </svg>\n              Submitting...\n            </div>\n          ) : (\n            \"Submit Application\"\n          )}\n        </button>\n\n        {onCancel && (\n          <button\n            type=\"button\"\n            onClick={handleCancel}\n            disabled={isSubmitting}\n            className=\"flex-1 sm:flex-none bg-gray-200 text-gray-700 px-6 py-3 rounded-lg font-medium hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n    </form>\n  );\n};\n\nexport default JobApplicationForm;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4444, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/component/ApplyJob/ApplyJob.tsx"],"sourcesContent":["\"use client\";\n\nimport React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { X } from \"lucide-react\";\n\nimport { RootState, AppDispatch } from \"@/Redux/Store/Store\";\nimport { closeJobModal } from \"@/Redux/Features/ApplyJobSlice\";\nimport JobApplicationForm from \"@/components/JobApplication/JobApplicationForm\"; \nimport { JobDetails } from \"@/types/jobApplication.types\";\n\nconst ApplyJob = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const { isModalOpen, selectedJob } = useSelector((state: RootState) => state.applyJob);\n\n  const handleClose = () => {\n    dispatch(closeJobModal());\n  };\n\n  const handleSuccess = () => {\n    dispatch(closeJobModal());\n  };\n\n  if (!selectedJob) return null;\n\n  return (\n    <AnimatePresence>\n      {isModalOpen && (\n        <motion.div\n          initial={{ opacity: 0 }}\n          animate={{ opacity: 1 }}\n          exit={{ opacity: 0 }}\n          className=\"fixed inset-0 bg-black/50 z-[60] flex items-center justify-center p-4\"\n          onClick={handleClose}\n        >\n          <motion.div\n            initial={{ scale: 0.9, opacity: 0 }}\n            animate={{ scale: 1, opacity: 1 }}\n            exit={{ scale: 0.9, opacity: 0 }}\n            transition={{ duration: 0.2 }}\n            className=\"bg-white rounded-lg w-full max-w-4xl max-h-[90vh] overflow-hidden shadow-2xl flex flex-col\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 bg-gray-50 flex-shrink-0\">\n              <div className=\"flex-1 mr-4\">\n                <h2 className=\"text-xl font-semibold text-gray-900\">\n                  Apply for {selectedJob.title}\n                </h2>\n                <p className=\"text-sm text-gray-600 mt-1\">\n                  Complete the form below to submit your application.\n                </p>\n              </div>\n              <button\n                onClick={handleClose}\n                className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-200 rounded-full transition-colors\"\n                aria-label=\"Close modal\"\n              >\n                <X size={20} />\n              </button>\n            </div>\n\n            <div className=\"overflow-y-auto p-6\">\n              <JobApplicationForm \n                jobDetails={selectedJob} \n                onSuccess={handleSuccess} \n                onCancel={handleClose}\n              />\n            </div>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default ApplyJob;"],"names":[],"mappings":";;;;;AAGA;AACA;AAAA;AACA;AAGA;AACA;;;AATA;;;;;;AAYA,MAAM,WAAW;;IACf,MAAM,WAAW,IAAA,2KAAW;IAC5B,MAAM,EAAE,WAAW,EAAE,WAAW,EAAE,GAAG,IAAA,2KAAW;gCAAC,CAAC,QAAqB,MAAM,QAAQ;;IAErF,MAAM,cAAc;QAClB,SAAS,IAAA,6JAAa;IACxB;IAEA,MAAM,gBAAgB;QACpB,SAAS,IAAA,6JAAa;IACxB;IAEA,IAAI,CAAC,aAAa,OAAO;IAEzB,qBACE,6LAAC,+MAAe;kBACb,6BACC,6LAAC,uMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;YAAE;YACtB,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,WAAU;YACV,SAAS;sBAET,cAAA,6LAAC,uMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,OAAO;oBAAK,SAAS;gBAAE;gBAClC,SAAS;oBAAE,OAAO;oBAAG,SAAS;gBAAE;gBAChC,MAAM;oBAAE,OAAO;oBAAK,SAAS;gBAAE;gBAC/B,YAAY;oBAAE,UAAU;gBAAI;gBAC5B,WAAU;gBACV,SAAS,CAAC,IAAM,EAAE,eAAe;;kCAEjC,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;;4CAAsC;4CACvC,YAAY,KAAK;;;;;;;kDAE9B,6LAAC;wCAAE,WAAU;kDAA6B;;;;;;;;;;;;0CAI5C,6LAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,6LAAC,oMAAC;oCAAC,MAAM;;;;;;;;;;;;;;;;;kCAIb,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,wKAAkB;4BACjB,YAAY;4BACZ,WAAW;4BACX,UAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ1B;GA9DM;;QACa,2KAAW;QACS,2KAAW;;;KAF5C;uCAgES"}},
    {"offset": {"line": 4611, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/component/common/JobMoreDescription/JobMoreDescription.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport { MapPin, Clock, Tag, DollarSign, X, Star } from \"lucide-react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  selectJobDescriptionOpen,\n  closeJobDescription,\n  selectSelectedJob,\n} from \"@/Redux/Features/JobDescriptionSlice\";\n\nimport { AppDispatch, RootState } from \"@/Redux/Store/Store\";\nimport { openJobModal } from \"@/Redux/Features/ApplyJobSlice\";\nimport { fetchUserWorkerProfile } from \"@/Redux/Features/workerProfilesSlice\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\n\nconst JobMoreDescription = () => {\n  const dispatch = useDispatch<AppDispatch>();\n  const router = useRouter();\n  const isOpen = useSelector(selectJobDescriptionOpen);\n  const jobData = useSelector(selectSelectedJob);\n  const { isAuthenticated, userId } = useSelector(\n    (state: RootState) => state.auth,\n  );\n  const { userProfile } = useSelector(\n    (state: RootState) => state.workerProfiles,\n  );\n\n  // If no job data, return null\n  if (!jobData) return null;\n\n  const rawJob = jobData as any;\n\n  // Format the job data from backend\n  const job = {\n    id: rawJob.id,\n    title: rawJob.title || \"Job Title\",\n    jobType: rawJob.jobType || rawJob.job_type || \"Full-Time\",\n    category:\n      typeof rawJob.category === \"string\"\n        ? rawJob.category\n        : rawJob.category?.name || \"General\",\n    location:\n      rawJob.location_address ||\n      rawJob.location_text ||\n      rawJob.location ||\n      \"Location not specified\",\n    rate:\n      rawJob.budget_min && rawJob.budget_max\n        ? `KSh ${rawJob.budget_min} - ${rawJob.budget_max}`\n        : \"Negotiable\",\n    description: rawJob.description || \"No description available\",\n    image:\n      rawJob.job_image ||\n      rawJob.image ||\n      \"https://images.pexels.com/photos/4239016/pexels-photo-4239016.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1\",\n    postedDate: rawJob.created_at\n      ? new Date(rawJob.created_at).toLocaleDateString()\n      : rawJob.postedDate || \"Recently\",\n    urgency:\n      rawJob.is_urgent || rawJob.urgency_level === \"urgent\"\n        ? \"Hiring Immediately\"\n        : \"Open Position\",\n    requirements: rawJob.requirements || [\n      \"Please contact employer for details\",\n    ],\n    benefits: rawJob.benefits || [\n      \"Competitive compensation\",\n      \"Professional work environment\",\n    ],\n  };\n\n  const handleApply = async (jobTitle: string, jobId: string) => {\n    // Check if user is authenticated\n    if (!isAuthenticated) {\n      // Redirect to login page with return URL\n      if (typeof window !== \"undefined\") {\n        sessionStorage.setItem(\"redirectAfterLogin\", window.location.pathname);\n        sessionStorage.setItem(\"pendingJobApplication\", jobId);\n        window.location.href = \"/auth/login\";\n      }\n      return;\n    }\n\n    // Check if user has a worker profile\n    if (!userProfile && userId) {\n      // Try to fetch user's worker profile\n      try {\n        const result = await dispatch(fetchUserWorkerProfile(userId)).unwrap();\n\n        if (!result) {\n          // No worker profile exists, redirect to create one\n          toast.info(\"Please create a worker profile to apply for jobs\");\n          router.push(\"/worker\");\n          return;\n        }\n      } catch (error) {\n        // Error fetching profile, redirect to create one\n        toast.info(\"Please create a worker profile to apply for jobs\");\n        router.push(\"/worker\");\n        return;\n      }\n    }\n\n    // User has a worker profile, open the application modal\n    dispatch(openJobModal());\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <AnimatePresence>\n      <motion.div\n        initial={{ x: \"100%\" }}\n        animate={{ x: 0 }}\n        exit={{ x: \"100%\" }}\n        transition={{ type: \"spring\", stiffness: 100, damping: 20 }}\n        className=\"fixed top-0 right-0 w-[97%] md:w-[65%] h-screen z-40 overflow-y-auto shadow-2xl bg-white\"\n      >\n        {/* Header with Image */}\n        <div className=\"relative w-full h-60 sm:h-72\">\n          <img\n            src={job.image}\n            alt=\"Job\"\n            className=\"w-full h-full object-cover\"\n          />\n          <div className=\"absolute inset-0 bg-gradient-to-br from-red-900/80 via-red-800/70 to-gray-900/60\">\n            <div className=\"absolute top-4 right-4\">\n              <button\n                onClick={() => dispatch(closeJobDescription())}\n                className=\"fixed right-[2rem] p-2 bg-red-400 hover:bg-red-500 rounded-sm backdrop-blur-sm transition-all duration-200\"\n                aria-label=\"Close job description\"\n              >\n                <X className=\"w-6 h-6 text-white\" />\n              </button>\n            </div>\n            <div className=\"absolute bottom-6 left-6 right-6\">\n              <div className=\"flex items-center gap-2 mb-3 flex-wrap\">\n                <span className=\"px-3 py-1 bg-red-600 text-white text-sm font-medium rounded-full\">\n                  {job.urgency}\n                </span>\n                <span className=\"px-3 py-1 bg-white/20 text-white text-sm font-medium rounded-full backdrop-blur-sm\">\n                  {job.postedDate}\n                </span>\n              </div>\n              <h1 className=\"text-white text-2xl sm:text-4xl font-bold mb-2 leading-tight\">\n                {job.title}\n              </h1>\n              <div className=\"flex items-center gap-4 text-white/90 flex-wrap\">\n                <div className=\"flex items-center gap-1\">\n                  <MapPin className=\"w-4 h-4\" />\n                  <span className=\"text-sm\">{job.location}</span>\n                </div>\n                <div className=\"flex items-center gap-1\">\n                  <DollarSign className=\"w-4 h-4\" />\n                  <span className=\"text-sm font-semibold\">{job.rate}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Content */}\n        <motion.div\n          initial={{ opacity: 0, y: 40 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ delay: 0.1 }}\n          className=\"p-6 sm:p-8\"\n        >\n          {/* Cards */}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8\">\n            {[\n              {\n                icon: <Clock className=\"text-red-700\" />,\n                label: \"Job Type\",\n                value: job.jobType,\n              },\n              {\n                icon: <Tag className=\"text-red-700\" />,\n                label: \"Category\",\n                value: job.category,\n              },\n            ].map((item, i) => (\n              <motion.div\n                key={i}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.15 + i * 0.1 }}\n                className=\"bg-gray-50 p-4 rounded-sm border border-gray-200\"\n              >\n                <div className=\"flex items-center gap-3 mb-2\">\n                  <div className=\"p-2 bg-red-100 rounded-lg\">{item.icon}</div>\n                  <div>\n                    <p className=\"text-sm text-gray-500 font-medium\">\n                      {item.label}\n                    </p>\n                    <p className=\"font-semibold text-gray-800\">{item.value}</p>\n                  </div>\n                </div>\n              </motion.div>\n            ))}\n          </div>\n\n          {/* Job Description */}\n          <div className=\"mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n              Job Description\n              <div className=\"h-1 w-12 bg-red-600 rounded\"></div>\n            </h2>\n            <p className=\"text-gray-600 leading-relaxed text-lg\">\n              {job.description}\n            </p>\n          </div>\n\n          {/* Requirements */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n              Requirements\n              <div className=\"h-1 w-8 bg-gray-400 rounded\"></div>\n            </h3>\n            <div className=\"space-y-3\">\n              {job.requirements.map((req: any, index: number) => (\n                <motion.div\n                  key={index}\n                  initial={{ opacity: 0, x: -20 }}\n                  animate={{ opacity: 1, x: 0 }}\n                  transition={{ delay: 0.1 + index * 0.05 }}\n                  className=\"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border border-gray-200\"\n                >\n                  <div className=\"w-2 h-2 bg-red-600 rounded-full flex-shrink-0\"></div>\n                  <span className=\"text-gray-700\">{req}</span>\n                </motion.div>\n              ))}\n            </div>\n          </div>\n\n          {/* Benefits */}\n          <div className=\"mb-8\">\n            <h3 className=\"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2\">\n              Benefits & Perks\n              <div className=\"h-1 w-8 bg-gray-400 rounded\"></div>\n            </h3>\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3\">\n              {job.benefits.map((benefit: any, index: number) => (\n                <motion.div\n                  key={index}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ delay: 0.2 + index * 0.05 }}\n                  className=\"flex items-center gap-3 p-3 bg-gradient-to-r from-red-50 to-gray-50 rounded-lg border border-red-100\"\n                >\n                  <Star className=\"w-4 h-4 text-red-600 flex-shrink-0\" />\n                  <span className=\"text-gray-700 text-sm\">{benefit}</span>\n                </motion.div>\n              ))}\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ delay: 0.3 }}\n            className=\"flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200\"\n          >\n            <button\n              className=\"flex-1 bg-gradient-to-r from-red-700 to-red-600 hover:from-red-800 hover:to-red-700 text-white font-semibold py-4 px-6 transition-all rounded-sm duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5\"\n              onClick={() => handleApply(job.title, job.id)}\n            >\n              Apply Now\n            </button>\n            <button className=\"px-6 py-4 border-2 border-gray-300 hover:border-red-600 text-gray-700 hover:text-red-600 font-semibold transition-all duration-200 hover:bg-red-50 rounded-sm\">\n              Save Job\n            </button>\n          </motion.div>\n\n          {/* Contact Info */}\n          <div className=\"mt-6 p-4 bg-gradient-to-r from-gray-50 to-red-50 rounded-xl border border-gray-200\">\n            <p className=\"text-sm text-gray-600 text-center\">\n              <strong>Ready to apply?</strong> Click \"Apply Now\" to submit your\n              application or contact us for more information.\n            </p>\n          </div>\n        </motion.div>\n      </motion.div>\n    </AnimatePresence>\n  );\n};\n\nexport default JobMoreDescription;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 5247, "column": 0}, "map": {"version":3,"sources":["file:///home/ephymucira/Desktop/kazibuddy/src/component/Authentication/ProtectedRoute.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { usePathname, useRouter } from \"next/navigation\";\nimport { useSelector } from \"react-redux\";\nimport { RootState } from \"@/Redux/Store/Store\";\nimport { toast } from \"sonner\";\n\ninterface ProtectedRouteProps {\n  children: React.ReactNode;\n}\n\nconst allowedUnauthenticatedPaths = [\n  \"/\",\n  \"/jobs\",\n  \"/jobs/users/applications\",\n  \"/jobs/users/alerts\",\n  \"/auth/login\",\n  \"/auth/signup\",\n  \"/auth/signup/worker\",    \n  \"/auth/signup/employer\",  \n  \"/auth/verify-email\",\n  \"/auth/forgot\",          \n];\n\nconst ProtectedRoute: React.FC<ProtectedRouteProps> = ({ children }) => {\n  const router = useRouter();\n  const pathname = usePathname();\n  const [authorized, setAuthorized] = useState<null | boolean>(null);\n  \n  const { user, isAuthenticated: reduxIsAuthenticated } = useSelector((state: RootState) => state.auth);\n\n  useEffect(() => {\n    // 1. Check basic authentication\n    const sessionIsAuthenticated = sessionStorage.getItem(\"isAuthenticated\") === \"true\";\n    const isAuthenticated = reduxIsAuthenticated || sessionIsAuthenticated;\n    \n    // Check if the exact path is in the allowed list\n    const isAllowed = allowedUnauthenticatedPaths.includes(pathname);\n\n    if (!isAuthenticated && !isAllowed) {\n      router.replace(`/auth/login?returnTo=${pathname}`);\n      setAuthorized(false);\n      return;\n    }\n\n    // 2. Role-based Access Control (RBAC)\n    if (isAuthenticated && user) {\n      const userRole = user.role || user.user_type;\n      \n      // Admin Routes Protection\n      if (pathname.startsWith(\"/admin\") || pathname.startsWith(\"/adminpanel\")) {\n        const isAdmin = user.is_staff || user.is_superuser || userRole === \"admin\";\n        if (!isAdmin) {\n          toast.error(\"Unauthorized access. Admin privileges required.\");\n          \n          if (userRole === \"employer\") router.replace(\"/employer\");\n          else if (userRole === \"worker\") router.replace(\"/worker\");\n          else router.replace(\"/\");\n          \n          setAuthorized(false);\n          return;\n        }\n      }\n\n      // Employer Routes Protection\n      if (pathname.startsWith(\"/employer\")) {\n        const isEmployer = userRole === \"employer\" || userRole === \"admin\";\n        if (!isEmployer) {\n           toast.error(\"Unauthorized access. Employer account required.\");\n           if (userRole === \"worker\") router.replace(\"/worker\");\n           else router.replace(\"/\");\n           \n           setAuthorized(false);\n           return;\n        }\n      }\n\n      // Worker Routes Protection\n      if (pathname.startsWith(\"/worker\")) {\n        const isWorker = userRole === \"worker\" || userRole === \"admin\";\n        if (!isWorker) {\n           toast.error(\"Unauthorized access. Worker account required.\");\n           if (userRole === \"employer\") router.replace(\"/employer\");\n           else router.replace(\"/\");\n           \n           setAuthorized(false);\n           return;\n        }\n      }\n    }\n\n    setAuthorized(true);\n  }, [router, pathname, user, reduxIsAuthenticated]);\n\n  if (authorized === null) {\n    return null; \n  }\n\n  if (authorized === false) {\n    return null;\n  }\n\n  return <>{children}</>;\n};\n\nexport default ProtectedRoute;"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;;;AANA;;;;;AAYA,MAAM,8BAA8B;IAClC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAED,MAAM,iBAAgD,CAAC,EAAE,QAAQ,EAAE;;IACjE,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,WAAW,IAAA,oJAAW;IAC5B,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAiB;IAE7D,MAAM,EAAE,IAAI,EAAE,iBAAiB,oBAAoB,EAAE,GAAG,IAAA,2KAAW;sCAAC,CAAC,QAAqB,MAAM,IAAI;;IAEpG,IAAA,0KAAS;oCAAC;YACR,gCAAgC;YAChC,MAAM,yBAAyB,eAAe,OAAO,CAAC,uBAAuB;YAC7E,MAAM,kBAAkB,wBAAwB;YAEhD,iDAAiD;YACjD,MAAM,YAAY,4BAA4B,QAAQ,CAAC;YAEvD,IAAI,CAAC,mBAAmB,CAAC,WAAW;gBAClC,OAAO,OAAO,CAAC,CAAC,qBAAqB,EAAE,UAAU;gBACjD,cAAc;gBACd;YACF;YAEA,sCAAsC;YACtC,IAAI,mBAAmB,MAAM;gBAC3B,MAAM,WAAW,KAAK,IAAI,IAAI,KAAK,SAAS;gBAE5C,0BAA0B;gBAC1B,IAAI,SAAS,UAAU,CAAC,aAAa,SAAS,UAAU,CAAC,gBAAgB;oBACvE,MAAM,UAAU,KAAK,QAAQ,IAAI,KAAK,YAAY,IAAI,aAAa;oBACnE,IAAI,CAAC,SAAS;wBACZ,oJAAK,CAAC,KAAK,CAAC;wBAEZ,IAAI,aAAa,YAAY,OAAO,OAAO,CAAC;6BACvC,IAAI,aAAa,UAAU,OAAO,OAAO,CAAC;6BAC1C,OAAO,OAAO,CAAC;wBAEpB,cAAc;wBACd;oBACF;gBACF;gBAEA,6BAA6B;gBAC7B,IAAI,SAAS,UAAU,CAAC,cAAc;oBACpC,MAAM,aAAa,aAAa,cAAc,aAAa;oBAC3D,IAAI,CAAC,YAAY;wBACd,oJAAK,CAAC,KAAK,CAAC;wBACZ,IAAI,aAAa,UAAU,OAAO,OAAO,CAAC;6BACrC,OAAO,OAAO,CAAC;wBAEpB,cAAc;wBACd;oBACH;gBACF;gBAEA,2BAA2B;gBAC3B,IAAI,SAAS,UAAU,CAAC,YAAY;oBAClC,MAAM,WAAW,aAAa,YAAY,aAAa;oBACvD,IAAI,CAAC,UAAU;wBACZ,oJAAK,CAAC,KAAK,CAAC;wBACZ,IAAI,aAAa,YAAY,OAAO,OAAO,CAAC;6BACvC,OAAO,OAAO,CAAC;wBAEpB,cAAc;wBACd;oBACH;gBACF;YACF;YAEA,cAAc;QAChB;mCAAG;QAAC;QAAQ;QAAU;QAAM;KAAqB;IAEjD,IAAI,eAAe,MAAM;QACvB,OAAO;IACT;IAEA,IAAI,eAAe,OAAO;QACxB,OAAO;IACT;IAEA,qBAAO;kBAAG;;AACZ;GA/EM;;QACW,kJAAS;QACP,oJAAW;QAG4B,2KAAW;;;KAL/D;uCAiFS"}}]
}